# KeibaCICD.WebViewer UI画面機能一覧

**バージョン**: 1.0
**最終更新**: 2026-01-31
**作成者**: カカシ（AI相談役）+ Exploreエージェント

---

## 📊 概要

KeibaCICD.WebViewerは**16個のUIページ**を提供し、競馬予想作業を効率化します。

### ページカテゴリ分類
1. **メインページ** - 1個
2. **レース関連ページ** - 2個 (v1, v2)
3. **馬関連ページ** - 3個 (検索, v1, v2)
4. **分析ページ** - 3個 (RPCI, レイティング, 障害)
5. **管理ページ** - 1個
6. **デモページ** - 2個 (カード, コース)
7. **複合表示ページ** - 1個 (マルチビュー)
8. **オッズ分析ページ** - 2個 (ボード, 詳細)

### ふくだ君のワークフロー
```
朝: レース一覧 → レース分析 → 馬詳細確認
昼: オッズ確認 → 複数視点分析
発走前: 映像確認 → 買い目作成
```

---

## 1. メインページ

### `/` (ルート)
**ページ名**: レース一覧（ホーム）

**主要機能**:
- 年月別レース検索
- 日付タブ選択
- レース情報のカード表示
- 競馬場タブ切り替え

**表示データ**:
- 開催日一覧（YYYY-MM-DD形式）
- 競馬場ごとのレース情報
  - レース番号・発走時刻
  - レース名・距離・クラス
  - 馬場情報（バッジ表示）
- 外部サービスリンク（競馬ブック、netkeiba等）

**使用API**:
- `getAvailableDates()` - 利用可能な日付一覧
- `getRacesByDate(date)` - 指定日のレース情報
- `getVenueBabaSummary()` - 競馬場の馬場情報

**使用コンポーネント**:
- `Card`, `Badge`, `Tabs`, `TabsContent`, `TabsList`, `TabsTrigger`
- `BabaInputForm`, `BabaSummaryBadges`
- `JraViewerMiniLinks`

**ユーザー操作**:
- 年月を選択して遡ったり未来を閲覧
- 日付を選択してレース一覧を確認
- 個別レースリンクをクリック
- 外部サイト連携（出走表確認）

**🎯 人間が重視している情報**:
- **開催日と競馬場情報** - どの日程でどこが開催されているか
- **レース条件** - 距離・馬場（芝/ダ）・クラス
- **馬場情報** - 「良」「重」などのコンディション状態
- **外部連携** - 他サイトで出走表を見るための導線

**💡 改善提案**:
- 馬場入力フォームが UI上に小さく埋め込まれている → 専用ページ化を検討
- 直近1ヶ月の予定一覧表示（スクロール不要な見通し）
- オッズや予想情報への直接リンク

---

## 2. レース関連ページ

### `/races/[date]/[track]/[id]` (v1)
**ページ名**: レース詳細（旧方式）

**主要機能**:
- 出走馬テーブル表示
- レース情報表示
- 予想メモ編集
- レース前後ナビゲーション
- JRAビュアーリンク

**表示データ**:
- レース基本情報（番号・名前・発走時刻）
- 出走馬情報（枠・馬番・馬名・騎手・調教師・オッズ）
- レース内容（Markdown形式）

**使用API**:
- `getRaceDetail(date, track, id)` - レース詳細
- `getRaceNavigation()` - 前後のレース情報
- `getRaceInfo(date)` - 開催情報

**使用コンポーネント**:
- `RaceMemoEditor` - メモ編集
- `RaceContentWithMermaid` - レース内容表示
- `RaceFetchDropdown` - データ取得オプション

**ユーザー操作**:
- 出走馬の詳細確認
- 馬をクリックして詳細ページへ
- メモ機能で予想や気づきを記録

**🎯 人間が重視している情報**:
- **出走馬の基本情報** - 枠番・馬番・馬名（リンク）・騎手・調教師
- **オッズ** - 人気判定（1着候補か穴馬か）
- **レース内容** - HTMLコンテンツとして解析結果が記載

**💡 改善提案**:
- 出走馬テーブルにAI指数や独自評価を追加
- メモ機能をレース終了後も保持して結果検証に活用
- 過去同一距離・条件のレース履歴表示

---

### `/races-v2/[date]/[track]/[id]` (v2 新方式)
**ページ名**: レース詳細（新方式）

**主要機能**:
- JSON形式のデータ統合表示
- 出走馬の詳細分析
- レース条件分析
- 調教データ統合表示
- TARGETコメント表示（読取専用）

**表示データ**:
- レース基本情報
- 出走馬エントリー
  - 基本情報（枠・番・馬名・騎手・斤量）
  - 前走調教データ
  - AI指数・レイティング
- レース特性（RPCI）
- 馬場情報
- TARGETコメント（馬コメント・レースコメント）

**使用API**:
- `getIntegratedRaceData()` - 統合レースデータ
- `getRaceNavigation()`
- `getTrainingSummaryMap()` - 調教データ
- `getCourseRpciInfo()` - レース特性
- `getRatingStandards()` - レイティング基準
- `getBabaCondition()` - 馬場情報
- `getRaceAllComments()` - TARGETコメント
- `getHorseCommentsBatch()` - 馬別コメント

**使用コンポーネント**:
- `RaceHeader` - レースヘッダー
- `RaceDetailContent` - メインコンテンツ
- `HorsePastRacesTable` - 過去成績テーブル
- `HorseStatsSection` - 統計情報

**ユーザー操作**:
- 出走馬の前走調教確認
- AI/レイティング値を参考に馬を選定
- TARGETコメントを確認
- 馬場状態を確認して戦略を立案

**🎯 人間が重視している情報**:
- **前走調教データ** - 追切時間・評価クラス
- **レース特性（RPCI）** - 瞬発戦か持続戦か
- **馬場情報** - 「良」「重」などのコンディション
- **TARGETコメント** - 専門評価（読取専用）
- **AI指数・レイティング** - 予想判定の根拠

**💡 改善提案**:
- TARGETコメントを編集可能にして、自分の分析を付記
- 調教データの「追切評価」をビジュアル化（グラフ化）
- RPCI値と過去の勝利馬パターンのマッチング
- 馬場状態別の過去成績フィルタリング

---

## 3. 馬関連ページ

### `/horses` (馬検索)
**ページ名**: 馬名検索

**主要機能**:
- 馬名入力による検索
- 検索結果一覧表示
- 詳細ページへのリンク

**表示データ**:
- 馬名
- 馬ID
- 年齢（性齢）

**使用API**:
- `GET /api/horses/search?q=...` - 馬名検索

**使用コンポーネント**:
- `Card`, `CardContent`, `CardHeader`, `CardTitle`
- `Button`, `Badge`

**ユーザー操作**:
- 馬名を入力して検索
- 結果をクリックして詳細ページへ

**🎯 人間が重視している情報**:
- **馬名** - 主検索キー
- **馬ID** - 内部識別用

**💡 改善提案**:
- 最近閲覧馬の履歴表示
- 人気馬ランキング表示
- 過去出走レース数でフィルタリング

---

### `/horses/[id]` (v1 馬プロフィール)
**ページ名**: 馬プロフィール（v1）

**主要機能**:
- 馬の基本情報表示
- 過去レース映像比較
- ユーザーメモ編集
- Markdown形式の詳細情報表示

**表示データ**:
- 馬の基本情報（名前・年齢）
- 過去レース映像（複数レース同時表示可）
- ユーザーメモ
- HTML形式の馬プロフィール

**使用API**:
- `getHorseProfileWithRaces(id)` - 馬プロフィール + 過去レース

**使用コンポーネント**:
- `HorseProfileMemoEditor` - メモ編集
- `HorseRaceSelector` - 過去レース映像比較
- Markdown HTML表示（prose スタイル）

**ユーザー操作**:
- 馬の調教や成績をメモに記録
- 過去レース映像を複数表示して走法を比較

**🎯 人間が重視している情報**:
- **メモ** - 調教評価や気づき
- **過去レース映像** - 走法確認用

**💡 改善提案**:
- メモを構造化（調教評価・成長度・気性など）
- 過去レース一覧に成績（着順）を表示
- AI指数の推移グラフ化

---

### `/horses-v2/[id]` (v2 馬プロフィール)
**ページ名**: 馬プロフィール（新方式）

**主要機能**:
- JSON統合データの表示
- 成績統計セクション
- 馬分析セクション（傾向分析）
- TARGETメモ表示（読取専用）
- ユーザーメモ編集

**表示データ**:
- 馬基本情報（名前・性齢・父系情報など）
- 過去レース成績テーブル
- 統計情報（勝率・連対率・複勝率など）
- 分析結果
  - 最近の成長傾向
  - 得意条件
  - 不得意条件
- TARGETメモ（読取専用）
- ユーザーメモ（編集可）

**使用API**:
- `getIntegratedHorseData(id)` - 統合馬データ
- `getHorseCommentByName(name)` - TARGETメモ
- `analyzeHorse(pastRaces, stats)` - 馬分析実行

**使用コンポーネント**:
- `HorseHeader` - ヘッダー（トレンドインジケーター付き）
- `HorsePastRacesTable` - 過去成績テーブル
- `HorseStatsSection` - 統計セクション
- `HorseAnalysisSection` - 分析結果
- `HorseUserMemo` - メモ編集
- `HorseRaceSelector` - 過去レース映像比較

**ユーザー操作**:
- 馬の成績推移を確認
- 得意条件を把握
- 最近のトレンドを確認
- 自分の分析メモを記録

**🎯 人間が重視している情報**:
- **過去レース成績** - 距離別・馬場別の成績
- **統計情報** - 勝率・連対率で実力判定
- **分析結果** - 傾向（成長中か衰退か）
- **TARGETメモ** - 専門家評価
- **ユーザーメモ** - 自分の気づき

**💡 改善提案**:
- 過去成績テーブルに着順・タイム差を表示
- 得意条件を視覚化（距離別・馬場別グラフ）
- TARGETメモを編集可能にして自分の評価と統合
- 最近のAI指数推移をグラフ化

---

## 4. 分析ページ

### `/analysis/rpci` (RPCI分析)
**ページ名**: RPCI分析（レース特性）

**主要機能**:
- 距離グループ別RPCI表示
- コース別RPCIランキング
- 類似コース検索
- RPCI基準値表示

**表示データ**:
- RPCI値（瞬発戦 vs 持続戦指標）
- コース別統計情報
  - サンプル数
  - RPCI平均値・標準偏差
  - 瞬発戦/持続戦の閾値
- 類似コースペア

**使用API**:
- `GET /api/admin/rpci-standards` - RPCI基準値データ

**使用コンポーネント**:
- `RpciGauge` - ゲージ表示
- `RpciBar` - バーグラフ
- `StatCard` - 統計カード
- `Tabs` - タブ切り替え

**ユーザー操作**:
- コース別の特性を把握
- 過去データから統計情報を確認
- レース戦術を立案

**🎯 人間が重視している情報**:
- **RPCI値** - >50なら瞬発戦、<50なら持続戦
- **類似コース** - 過去データが活用できるコースペア
- **標本数** - データの信頼度判定

**💡 改善提案**:
- レース詳細ページにRPCI値を表示（今のレースはどのタイプか）
- 出走馬の適性とRPCIのマッチング分析
- RPCI値の季節変動表示（夏は異なるか）

---

### `/analysis/rating` (レイティング分析)
**ページ名**: レイティング分析

**主要機能**:
- クラス別レイティング基準値表示
- 混戦度判定基準表示
- 未勝利戦シーズン別分析

**表示データ**:
- クラス別基準値
  - 平均値・標準偏差・中央値
  - レベル判定閾値（高/低）
  - 混戦度（標準偏差から算出）
- 混戦度判定
  - 非常に混戦 / やや混戦 / 標準的 / 力差明確
- 未勝利戦の月別推移

**使用API**:
- `GET /api/admin/rating-standards` - レイティング基準値

**使用コンポーネント**:
- `Card`, `CardContent`, `CardHeader`, `CardTitle`
- `Badge`, `RefreshCw` (リロードボタン)
- テーブル表示

**ユーザー操作**:
- レースの難易度判定に基準値を参考にする
- 混戦度から買い目数を調整

**🎯 人間が重視している情報**:
- **クラス別平均値** - そのクラスの標準的な強さ
- **混戦度判定** - 人気馬が信頼できるか
- **上位下位の差** - 混戦か力差か

**💡 改善提案**:
- レース詳細ページに該当レースの混戦度を表示
- 出走馬のレイティング値で順位付けしたリストを表示
- 混戦レースでの買い目数の推奨ロジック実装

---

### `/analysis/obstacle` (障害レース分析)
**ページ名**: 高度障害レース分析システム

**主要機能**:
- 競馬場別難易度レベル表示
- 出走馬の適性分析
- レベル別経験値マトリックス
- AI予測表示

**表示データ**:
- 障害難易度レベル（1-53段階）
- 馬の障害経験
  - 出走数・勝利数
  - 飛越評価（★5段階）
- 馬場適性
- 脚質分析

**使用コンポーネント**:
- `RaceCard`, `CourseCardGrid`
- `Select`
- `Progress` (適合度表示)
- `Tabs` - 複数分析表示

**ユーザー操作**:
- 競馬場とコースを選択
- 難易度を確認
- 出走馬の適性をチェック

**🎯 人間が重視している情報**:
- **難易度レベル** - そのレースの難しさ
- **馬の経験** - 初障害か何度も走っているか
- **飛越評価** - その馬の技術レベル

**💡 改善提案**:
- 難易度に基づく出走馬の適性度の自動算出
- 過去のこのレース・このレベルでの成績統計
- 障害調教データの統合表示

---

## 5. 管理ページ

### `/admin` (管理画面)
**ページ名**: データ登録管理

**主要機能**:
- 単一日付/期間範囲選択
- データ取得アクション（パドック・成績・レース後更新）
- データ統合・生成（出走馬統合・オッズ統合など）
- データ分析（基準値算出）
- 実行ログ表示

**表示データ**:
- 選択した日付情報
- 当日取得オプション（開始レース・終了レース・競馬場指定）
- 実行状態（idle / running / success / error）
- SSEストリーム形式のログ

**使用API**:
- `POST /api/admin/execute` - アクション実行（SSE返却）

**使用コンポーネント**:
- `ActionButton` - アクション実行ボタン
- `DateSelector` / `DateRangeSelector` - 日付選択
- `LogViewer` - ログ表示
- `StatusBadge` - 実行状態表示

**ユーザー操作**:
- 日付を選択
- 必要なアクション（パドック・成績・レース後）を選択
- 実行
- ログを監視して完了を確認

**🎯 人間が重視している情報**:
- **実行状態** - 完了したかエラーか
- **ログ出力** - 何が取得されたか
- **進捗** - [現在数/総数] の進捗

**💡 改善提案**:
- パスする前にどのデータが取得されるか予測表示
- 実行時間の推定表示
- エラー発生時の自動リトライ機能
- 過去実行履歴の表示と再実行

---

## 6. デモページ

### `/demo/cards` (カードデモ)
**ページ名**: トレーディングカード風デモ

**主要機能**:
- 馬をトレーディングカード形式で表示
- カードフリップで詳細情報表示
- レアリティ表示

**表示データ**:
- 馬名
- 騎手
- オッズ
- AI指数
- 成績・能力値（拡張予定）

**使用コンポーネント**:
- `HorseCard`, `HorseCardGrid`

**ユーザー操作**:
- カードをクリックして表表示/裏表示を切替
- レアリティを確認

**🎯 人間が重視している情報**:
- **AI指数** - レアリティ判定基準
- **オッズ** - 人気度

**💡 改善提案**:
- 実際のレース出走馬から動的生成
- レアリティに応じた表示の改善

---

### `/demo/course` (コースデモ)
**ページ名**: コース情報ビジュアライズデモ

**主要機能**:
- 高低断面図の表示
- 脚質別勝率表示
- コースバイアス表示
- 風向き情報表示

**表示データ**:
- コース基本情報（距離・回り・直線長）
- 高低差プロフィール
- 脚質別勝率
- バイアス情報

**使用コンポーネント**:
- `CourseCard`, `CourseCardGrid`

**ユーザー操作**:
- コース情報を確認

**🎯 人間が重視している情報**:
- **高低断面図** - 起伏状況の把握
- **脚質別勝率** - そのコースで有利な脚質
- **バイアス** - 枠順・ペースの有利不利

**💡 改善提案**:
- レース詳細ページに該当コースのこれらの情報を埋め込み
- 風向きデータと直線方角の照合で追い風/向い風判定

---

## 7. 複合表示ページ

### `/multi-view` (レーシングビュアー複数表示)
**ページ名**: レーシングビュアー複数表示

**主要機能**:
- 複数のJRAビュアーをiframe表示
- 馬別映像の同時表示
- パドック・レース・パトロール選択

**表示データ**:
- レースID情報（日付・場・レース番号）
- 馬番・着順
- 映像タイプ（パドック/レース/パトロール）

**使用API**:
- `GET /api/race-lookup` - レース情報取得

**使用コンポーネント**:
- `Badge`, `Button`
- iframe（JRA Racing Viewer）

**ユーザー操作**:
- 同一馬の複数レース映像を並べて表示
- 映像タイプ（パドック/レース）を切り替え
- 走法変化を確認

**🎯 人間が重視している情報**:
- **走法の一貫性** - 前走と同じ走りをしているか
- **疲労度** - パドックの動きが前走と異なるか
- **気性** - 落ち着いているか興奮しているか

**💡 改善提案**:
- 複数馬の同時映像表示（競争構図を再現）
- 走法分析の自動コメント付与
- 前走との比較分析

---

## 8. オッズ分析ページ

### `/odds-board` (オッズボード)
**ページ名**: オッズボード（株ボード風）

**主要機能**:
- 日付別レース一覧表示
- 複数フィルターオプション
- オッズゾーン別色分け
- 人気動向表示

**表示データ**:
- 枠番・馬番・馬名・騎手
- 単勝・複勝オッズ
- 人気ランキング
- AI指数・レイティング
- 着順（結果がある場合）
- オッズ変動トレンド

**使用API**:
- `GET /api/race-dates` - 開催日一覧
- `GET /api/odds/list?date=...` - 指定日のレースID一覧
- `GET /api/odds/race?raceId=...` - レース別オッズデータ

**フィルターモード**:
- 全馬 / 上位5頭 / 10倍以下 / 本紙◎ / 穴馬候補 / 激走候補

**使用コンポーネント**:
- `OddsTable` - オッズ表示テーブル
- `Button`, `Badge`
- フィルタボタン

**ユーザー操作**:
- 日付を選択
- フィルターを適用（上位人気 or 穴馬検索）
- 馬を選定

**🎯 人間が重視している情報**:
- **オッズ** - 人気判定
- **オッズ変動トレンド** - 人気上昇馬（買い控える）
- **AI指数** - 人気とAIのギャップ
- **人気順** - 複数人気馬候補の確認

**💡 改善提案**:
- オッズ変動の予測（14:30までに下がるか上がるか）
- シェア分析（得票率 = 1/オッズの合計）
- 朝一オッズとの比較表示

---

### `/odds-race/[raceId]` (レース別オッズ詳細)
**ページ名**: レース別オッズ分析

**主要機能**:
- 複数のフィルタパネル同時表示
- シェア分析（得票率）
- 時系列オッズテーブル
- 直前変動アラート

**表示データ**:
- 複数フィルタモード（上位5 / 10倍以下 / 穴馬 / 激走候補 / 全馬）
- 各パネルでソート可能（人気/オッズ/AI/レイティング/馬番/着順）
- 馬別シェア率（%表示）
- 時系列オッズ
  - 時刻別・馬別のオッズ推移
  - 直前変動の色付け（赤=人気上昇、青=人気低下）

**使用API**:
- `GET /api/odds/race?raceId=...` - レース別オッズ
- `GET /api/odds/ji-timeseries?raceId=...` - 時系列オッズ

**使用コンポーネント**:
- `OddsPanel` - フィルタパネル
- `OddsSharePanel` - シェア分析
- `TimeSeriesTable` - 時系列テーブル

**ユーザー操作**:
- 複数視点からオッズ分析
- シェア率で得票分布を確認
- 時系列でオッズ変動を監視

**🎯 人間が重視している情報**:
- **上位人気の確認** - 本命はどれか
- **シェア率** - 得票分布のバランス
- **直前変動** - 最後に人気上昇した馬
- **激走候補** - AI指数高×人気薄の穴馬

**💡 改善提案**:
- 時系列表を横スクロール可能に（全馬を見やすく）
- 直前変動の予測（現在のペースで締切時にどうなるか）
- シェア率と勝率のマッチング（シェア率を上回る勝率を持つ馬を検出）

---

## 📊 クロスカッティング分析

### 重要な設計パターン

**🔄 データフロー（v2方式の最適化）**:
```
JSON統合データ → 型定義済みコンポーネント → 直接レンダリング
```
- **メリット**: SSR対応、高速読み込み、型安全性
- **v1との違い**: Markdownパース不要、整形済みデータ

**📊 API設計の傾向**:
1. `/api/race-dates` - インデックス用（日付一覧）
2. `/api/*/race?raceId=...` - 詳細取得（オッズ・出走馬など）
3. `/api/admin/*` - 管理機能（基準値計算）

**🎯 重複するコンポーネント**:
- `Card`, `Badge`, `Button`, `Tabs` - 汎用UI
- `RaceXXX` - レース関連
- `HorseXXX` - 馬関連
- `OddsXXX` - オッズ関連

---

## 🎯 ふくだ君のワークフロー推測

### 典型的な1日の流れ

1. **朝の確認**: `/` (レース一覧) → 本日開催情報確認
2. **レース分析**: `/races-v2/[date]/[track]/[id]` → 出走馬検討
3. **馬の詳細確認**: `/horses-v2/[id]` → 過去成績・調教確認
4. **オッズ確認**: `/odds-board` → オッズ状況把握
5. **予想確認**: `/odds-race/[raceId]` → 複数視点分析
6. **映像確認**: `/multi-view` → 馬の走法チェック
7. **買い目作成**: `/races-v2/[id]` のメモ機能で記録
8. **結果確認**: 翌日に当該ページを再訪問

### 繰り返し確認される情報TOP5

1. **出走馬情報** - 枠・番・馬名・騎手（確認頻度 100%）
2. **オッズ** - 人気判定用（確認頻度 95%）
3. **レース特性** - RPCI値・馬場情報（確認頻度 80%）
4. **調教データ** - 前走調教評価（確認頻度 75%）
5. **AI指数・レイティング** - 独自評価（確認頻度 70%）

---

## 💡 システム全体の改善提案

### 🔴 緊急度：高

1. **統合画面の実装**
   - 1画面でレース情報×出走馬×オッズ×分析を表示
   - 現在は複数ページを往復している
   - **API化候補**: `/api/race/integrated?raceId=...`（全情報統合）

2. **TARGETコメントの編集機能**
   - 現在は読取専用
   - ふくだ君の独自分析を付記できるように
   - **API拡張**: `POST /api/target-comments` に `mode: 'append'` 追加

3. **手動データ入力の自動化**
   - 「開始レース」「終了レース」は毎回入力している
   - デフォルト値を保存
   - **API化候補**: `/api/admin/config` で設定管理

### 🟡 緊急度：中

4. **分析結果の可視化**
   - RPCI・レイティング値をグラフで表示
   - 統計情報をダッシュボード化
   - **API化候補**: `/api/analysis/dashboard?date=...`

5. **履歴管理**
   - 過去の予想結果との比較
   - 成績予測精度の向上
   - **API化候補**: `/api/predictions/history?startDate=...&endDate=...`

6. **馬場状態自動判定**
   - 現在は手動入力（BabaInputForm）
   - 外部APIまたは画像認識で自動取得
   - **API化候補**: `/api/baba/auto-detect?date=...`

### 🟢 緊急度：低（将来的）

7. **リアルタイムオッズ更新**
   - WebSocket対応でオッズを自動更新
   - **API拡張**: `/api/odds/subscribe` (WebSocket)

8. **ML予想モデルの統合**
   - ARTETA（ML予想）の結果をUI表示
   - **API化候補**: `/api/ml/predict?raceId=...`

---

## 🔗 UI-API連携マトリックス

| UIページ | 主要API | データフロー |
|---------|--------|------------|
| `/` | `getAvailableDates()` | 開催日一覧 → 日付選択 |
| `/races-v2/[id]` | `getIntegratedRaceData()` | 統合データ → レース表示 |
| `/horses-v2/[id]` | `getIntegratedHorseData()` | 馬データ → プロフィール |
| `/analysis/rpci` | `GET /api/admin/rpci-standards` | 基準値 → グラフ表示 |
| `/odds-board` | `GET /api/odds/list`, `GET /api/odds/race` | オッズ一覧 → テーブル表示 |
| `/admin` | `POST /api/admin/execute` | アクション → SSEログ |

---

## 📝 まとめ

**KeibaCICD.WebViewerは以下の層構造：**

```
【UI層】(16ページ)
├── 【データ確認層】(/, /horses, /races-v2)
├── 【分析層】(/analysis/*, /odds-*)
└── 【管理層】(/admin)

【API層】
├── データ取得 (/api/race-dates, /api/odds/*)
├── 検索 (/api/horses/search)
└── 管理 (/api/admin/execute)

【データ層】
├── JSON統合データ (race_data.json, horse_data.json)
├── TARGETコメント (comment.json)
└── 基準値 (rpci_standards.json, rating_standards.json)
```

**ふくだ君の「重要度 TOP 5 データ」:**

1. **出走馬情報**（枠・番・馬名・騎手）
2. **オッズ**（人気判定）
3. **レース特性**（RPCI・馬場）
4. **AI指数・レイティング**
5. **TARGETコメント**（専門家評価）

**実装上の工夫:**
- v2方式で統合JSONを活用 → 読み込み高速化
- SSE形式で管理画面のログ出力 → リアルタイム監視
- 複数フィルターで柔軟なオッズ分析 → 手作業削減

この設計により、ふくだ君は**週末の予想作業を効率的に進められる**構造になっています。

---

**文書作成日**: 2026-01-31
**作成者**: カカシ（AI相談役）
**承認者**: ふくだ君

---

KeibaCICD.WebViewer UI画面機能一覧の解析が完了しました。各画面の機能、使用データ、改善提案を含めて詳細に記載しています。
