# 競馬AI ナレッジベース

競馬ブログ・記事から抽出したAI開発に役立つ知見を蓄積・整理するためのナレッジベース。

> 📌 **考察の羅針盤**: 今後の開発・考察を加速させる包括ドキュメントは [競馬AI×機械学習 考察マスター](consideration_master.md) を参照。

> 最終更新: 2026-02-13

## ディレクトリ構成

| ディレクトリ / ファイル | 内容 |
|---|---|
| `blog-analyses/` | ブログ単位の考察ドキュメント（時系列で番号管理） |
| `blog-analyses/_template.md` | 新規考察ドキュメントのテンプレート |
| `insights/` | テーマ別に横断整理した知見（サブフォルダ分類） |
| `insights/learning/` | 学習ロードマップ・用語集（4ファイル） |
| `insights/model/` | モデル設計・特徴量・評価理論（9ファイル） |
| `insights/market/` | 市場構造・馬券・資金管理（6ファイル） |
| `insights/race/` | レース構造・展開・ドメイン知識（9ファイル） |
| `insights/operations/` | 運用・検証・横断知見（3ファイル） |
| `features.md` | AI開発に使える特徴量候補リスト |
| `consideration_master.md` | 考察の羅針盤（テーマ間の接続・優先付け・次の問い） |

## ワークフロー

1. ブログ/記事を共有
2. AI開発に関連するポイントを抽出・要約
3. 独自考察（実装可能性・データ取得方法・特徴量化）を追加
4. `blog-analyses/_template.md` をコピーし、`blog-analyses/` に番号付きドキュメントとして保存
5. テーマ別に `insights/` へ横断整理
6. 具体的な特徴量候補を `features.md` に蓄積
7. `consideration_master.md` のテーママップ（セクション4）に該当テーマを追記し、「次の問い」を更新

## タグ一覧

蓄積に応じて追加していく。

### レース・馬のファクター

| タグ | 説明 |
|---|---|
| `#ペース` | ペース理論・ラップ分析 |
| `#馬場` | 馬場状態・バイアス |
| `#血統` | 血統・種牡馬傾向 |
| `#騎手` | 騎手の特徴・傾向 |
| `#調教師` | 調教師・厩舎の傾向 |
| `#調教` | 調教パターン・時計 |
| `#展開` | レース展開予測 |
| `#コース` | コース形態・適性 |
| `#クラス` | クラス・条件別傾向 |
| `#体重` | 馬体重・増減 |
| `#ローテ` | ローテーション・間隔 |
| `#馬主クラブ` | 馬主クラブ・応援馬券効果 |

### モデル・データ

| タグ | 説明 |
|---|---|
| `#モデル` | 予測モデル設計 |
| `#特徴量` | 特徴量エンジニアリング |
| `#確率論` | 確率論・認知バイアス・統計的思考 |
| `#前処理` | データ前処理・クレンジング |
| `#データソース` | データ取得元・JRA-VAN・TARGET |
| `#過学習` | 過学習・オーバーフィッティング対策 |

### 戦略・運用・法務

| タグ | 説明 |
|---|---|
| `#オッズ` | オッズ・市場分析 |
| `#馬券戦略` | 馬券購入戦略・資金配分 |
| `#運用` | 運用システム・自動購入・障害対応 |
| `#バンクロール` | 資金管理・ドローダウン・破産確率 |
| `#チューニング` | EV閾値・購入最適化・パラメータ調整 |
| `#ポートフォリオ` | 馬券種の組合せ・相関・リスク分散 |
| `#独立性` | 試行間独立性・レジーム変化・条件付き確率 |
| `#三連単` | 三連単特有の戦略・条件付き確率・市場非効率性 |
| `#税金` | 馬券の税区分・確定申告・税務設計 |
| `#法務` | 法的要件・判例・通達・証拠設計 |
| `#競合` | 競合AI・参入障壁・市場競争 |

## 横断整理（insights）

| ドキュメント | 内容 |
|---|---|
| [競馬AI×機械学習 考察マスター](consideration_master.md) | ナレッジベース全体の羅針盤。6本柱の世界観、テーマ別マップと「次の問い」、新テーマの立て方 |
| [松風ブログ核心知見](insights/operations/matsukaze_core_insights.md) | 001-012の横断整理。17の核心知見を重要度順に整理 + 優先実装リスト |
| [ML学習ロードマップ](insights/learning/ml_learning_roadmap.md) | 競馬AI開発に必要なML知識の体系的整理。Level 0〜5の段階的学習計画 |
| [ML用語集](insights/learning/ml_glossary.md) | エンコーディング・評価指標・キャリブレーション等の用語定義。ロードマップの補足 |
| [データエンジニアリング実践ロードマップ](insights/learning/data_engineering_roadmap.md) | データ品質管理・ETL・DWH・パイプライン自動化。Phase 1-5の実践計画、DE×DS統合学習 |
| [書籍×プロジェクト実践学習ロードマップ](insights/learning/book_learning_roadmap.md) | 所有書籍3冊の各章をkeiba-v2コードに紐づけた学習計画。Phase A〜Fの段階的アプローチ |
| [馬券市場の構造的非効率性](insights/market/market_structural_inefficiencies.md) | 均等配分バイアス・Favorite-Longshot・条件付き確率の無視等、AIが突ける9つの歪み |
| [特徴量設計とハイパラ: 人間 vs AI](insights/model/human_vs_ai_in_model_design.md) | 特徴量の「発想」は人間、ハイパラ調整はAI。7工程の分業設計 |
| [運用アーキテクチャ設計指針](insights/operations/operations_architecture_principles.md) | 松風8モジュール構成から学ぶシステム設計。Themisの「目隠し」原則、運用ミスの教訓集、KeibaCICDへの適用 |
| [バンクロール管理の原則](insights/market/bankroll_management_principles.md) | 複利の二面性、追い下げ方式、EV閾値、破産確率、馬券種ポートフォリオ、税引後EVの横断整理 |
| [仮説検証計画マスター](insights/operations/hypothesis_verification_master.md) | 全20仮説の統合管理。検証優先度マトリクス、全アクションアイテムの仮説への紐付け、Phase別実行計画 |
| [モデル分離戦略](insights/model/model_separation_strategy.md) | 芝/ダート/障害のモデル分離判断。分離基準、サンプルサイズ閾値、005の過学習教訓との整合 |
| [組合せ馬券の確率計算](insights/market/combination_ticket_probability.md) | 単勝確率→組合せ馬券確率の変換。Harville公式、Henery補正、着順の条件付き確率、馬券種別の実装優先度 |
| [展開シミュレーションと条件付き着順予測](insights/race/race_scenario_simulation.md) | 脚質相互作用・出遅れ・ペース変動が着順を変える構造。レベル0〜3の段階的アプローチ |
| [馬主情報の特徴量化](insights/model/owner_as_feature.md) | 馬主名・馬主成績の2つの意味（能力の代理変数 vs オッズ歪み指標）。過学習リスク、実用的な特徴量設計 |
| [馬の着順分布の形状](insights/model/horse_performance_distribution.md) | 安定強者/安定好走/一発型の3類型。Harvilleが見落とす「分散」の影響、馬券種別の戦略的含意 |
| [予測根拠のインタビュー機能](insights/model/prediction_interview_feature.md) | SHAP値で馬ごとの好材料・懸念材料を提示。推理エンターテインメント×モデルデバッグ×人間との対話 |
| [回収率と購入量のトレードオフ](insights/market/roi_volume_tradeoff.md) | 「あえて回収率を下げる」戦略の数理。EV閾値の最適化、115%は結果であって目標ではない、分散ドラッグ |
| [ランダムネスの認知錯誤](insights/market/randomness_cognitive_errors.md) | 逆正弦法則・ギャンブラーの誤謬・ホットハンド・モンテカルロの誤謬の家系図。連敗時の判断、パラメータ変更の指針 |
| [HarvilleのIIA批判](insights/market/harville_iia_critique.md) | 「スライドではなく再計算すべき」の数理的根拠。Thurstoneモデル、馬ごとのγ、IIA仮定の限界と段階的改善 |
| [ローテーション分析](insights/race/rotation_interval_analysis.md) | レース間隔の多次元構造。叩き2戦目、厩舎別傾向、消耗度、臨戦過程の特徴量化 |
| [着順以外の評価基準](insights/model/beyond_finishing_position.md) | スピード指数、着差、上がり3Fギャップ、レーティング、負けの質分析。8つのアプローチ |
| [環境物理学](insights/race/environmental_physics.md) | 空気抵抗・気温・風・含水率の物理計算。馬体重×風速、馬体重×気温×距離の定量分析 |
| [着順以外の目的変数](insights/model/alternative_target_variables.md) | パフォーマンススコア設計。三層構造（自動計算/ルール補正/人間判断）。「結果」でなく「能力」を予測する |
| [スムーズな走りと展開予測の必要性](insights/race/smooth_trip_without_simulation.md) | 展開・隊列予測は不可欠か？不利の4類型、特徴量で8割捕捉可、「予測より回避」の戦略 |
| [ポジショニングコストと出たなりの優位性](insights/race/positioning_cost_and_natural_running.md) | 逃げ馬の外は恵まれるか？出たなり vs ポジション争いのエネルギー差。JRA-VANデータからの推定方法 |
| [1コーナーまでの距離と枠順バイアス](insights/race/start_to_first_corner_gate_bias.md) | 距離が短い→漏斗効果で内枠有利。頭数×脚質構成×芝ダートの交互作用。コース定数テーブルの設計 |
| [マクリ・ペースクラッシャーの影響](insights/race/pace_crasher_and_makuri.md) | マクリの検出方法、ペースクラッシャーの3類型、先行馬への道連れ効果、被害馬の次走戦略 |
| [差し馬のサブタイプ: スロー捲り型 vs ハイペース追込型](insights/race/closer_subtypes_slow_vs_highpace.md) | 差し馬の中の根本的な2タイプ。ペース適性×仕掛け早さの4象限分類、展開との交互作用 |
| [着順バイアス: 着順 vs 着差の評価ギャップ](insights/model/finishing_position_vs_margin_bias.md) | 0.5秒差5着 vs 0.2秒差6着。序数思考バイアス、接戦レースの着順の無意味さ、着差weight導入 |
| [盛り返しパターンと充実度](insights/race/rally_after_dropping_position.md) | 位置取りを下げてから盛り返す馬は充実の証拠。盛り返し強度の定量化、戦意喪失の反対指標 |
| [能力はスカラーではなくベクトル](insights/model/ability_is_not_scalar.md) | 「能力の方向性は一定ではない」の統合理論。能力ベクトル×条件ベクトル＝適合度。穴馬の構造的説明 |

## 考察ドキュメント一覧

> 日付はナレッジベースへのインポート日。元記事の執筆日は各ドキュメント冒頭に記載。

| No. | テーマ | タグ | 日付 |
|---|---|---|---|
| [001](blog-analyses/001_競馬におけるショート戦略.md) | 競馬におけるショート（空売り）戦略 | `#オッズ` `#馬券戦略` `#特徴量` `#モデル` `#馬主クラブ` | 2025-02-11 |
| [002](blog-analyses/002_競馬2.0の準備は出来ているか.md) | 競馬2.0 - ブレークスルーの本質 | `#モデル` `#馬券戦略` `#オッズ` `#特徴量` | 2025-02-11 |
| [003](blog-analyses/003_競馬観と確率認知.md) | 競馬観と確率認知 | `#モデル` `#馬券戦略` `#オッズ` `#確率論` | 2025-02-11 |
| [004](blog-analyses/004_逆算してゆく競馬AIの作り方.md) | 逆算してゆく競馬AIの作り方 (1-3) | `#モデル` `#特徴量` `#前処理` `#データソース` | 2025-02-11 |
| [005](blog-analyses/005_ランダムネスと平均回帰.md) | ランダムネスと平均回帰（ギャンブル②③） | `#確率論` `#モデル` `#血統` `#馬券戦略` `#過学習` | 2025-02-11 |
| [006](blog-analyses/006_ポルシェを買う話_1-5週目.md) | ポルシェを買う話 1-5週目（実運用） | `#馬券戦略` `#オッズ` `#モデル` `#運用` `#バンクロール` | 2025-02-11 |
| [007](blog-analyses/007_ポルシェを買う話_6-11週目.md) | ポルシェ 6-11週目（ドローダウン/チューニング論） | `#馬券戦略` `#オッズ` `#バンクロール` `#運用` `#チューニング` | 2025-02-11 |
| [008](blog-analyses/008_ポルシェを買う話_17-19週目.md) | ポルシェ 17-19週目（馬券ポートフォリオ理論） | `#馬券戦略` `#バンクロール` `#運用` `#ポートフォリオ` | 2025-02-11 |
| [009](blog-analyses/009_ポルシェを買う話_20週目-2019総まとめ.md) | ポルシェ 20週目〜2019総まとめ（1,739万円） | `#馬券戦略` `#バンクロール` `#チューニング` `#確率論` `#独立性` | 2025-02-11 |
| [010](blog-analyses/010_馬券の税金と雑所得.md) | 馬券の税金と雑所得（税務設計） | `#税金` `#運用` `#馬券戦略` `#法務` | 2025-02-11 |
| [011](blog-analyses/011_2020年第1四半期_松風アーキテクチャ.md) | 2020年Q1 +343万 / 松風8モジュール構成 / Themis | `#運用` `#モデル` `#馬券戦略` `#バンクロール` | 2025-02-11 |
| [012](blog-analyses/012_2020年Q2-Q4_競争と参入障壁.md) | 2020年Q2-Q4 +4.34億 / 競合戦略 / 独自データ投資 | `#馬券戦略` `#運用` `#バンクロール` `#ポートフォリオ` `#オッズ` `#過学習` `#データソース` | 2025-02-11 |
