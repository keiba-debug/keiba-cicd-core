# ç«¶é¦¬ãƒ–ãƒƒã‚¯ ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚·ã‚¹ãƒ†ãƒ  - åŸºæœ¬æ“ä½œã‚¬ã‚¤ãƒ‰

## ğŸ“‹ æ¦‚è¦

å¾“æ¥ç‰ˆCLIï¼ˆbatch_cli.pyï¼‰ã‚’ä½¿ç”¨ã—ãŸåŸºæœ¬çš„ãªæ“ä½œæ–¹æ³•ã‚’è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚å®‰å®šæ€§ã‚’é‡è¦–ã—ãŸç¢ºå®Ÿãªãƒ‡ãƒ¼ã‚¿å–å¾—æ‰‹é †ã‚’ç¿’å¾—ã§ãã¾ã™ã€‚

**æœ€çµ‚æ›´æ–°**: 2025å¹´8æœˆ9æ—¥  
**å¯¾è±¡**: å¾“æ¥ç‰ˆCLIã‚·ã‚¹ãƒ†ãƒ ï¼ˆbatch_cli.pyï¼‰  
**æ¨å¥¨ãƒ¬ãƒ™ãƒ«**: åˆå¿ƒè€…ã€œä¸­ç´šè€…  
**å‰ææ¡ä»¶**: [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—/åˆæœŸè¨­å®š.md](../ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—/åˆæœŸè¨­å®š.md)ã®å®Œäº†

---

## ğŸš€ åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰æ§‹é€ 

### CLIã®åŸºæœ¬å½¢å¼
```bash
python -m src.batch_cli <ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰> <ã‚ªãƒ—ã‚·ãƒ§ãƒ³>
```

### æ–°æ©Ÿèƒ½ã®CLI

| CLIãƒ„ãƒ¼ãƒ« | æ©Ÿèƒ½ | ã‚³ãƒãƒ³ãƒ‰ä¾‹ |
|-----------|------|----------|
| `integrator_cli` | ãƒ‡ãƒ¼ã‚¿çµ±åˆ | `python -m src.integrator_cli single --race-id 202501010101` |
| `organizer_cli` | ãƒ•ã‚¡ã‚¤ãƒ«æ•´ç† | `python -m src.organizer_cli organize --copy` |

### åˆ©ç”¨å¯èƒ½ãªã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰

| ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ | æ©Ÿèƒ½ | èª¬æ˜ |
|-------------|------|------|
| `schedule` | ãƒ¬ãƒ¼ã‚¹æ—¥ç¨‹å–å¾— | æŒ‡å®šæ—¥ã®æ—¥ç¨‹ãƒ»ãƒ¬ãƒ¼ã‚¹IDå–å¾— |
| `data` | ãƒ¬ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿å–å¾— | æ—¢å­˜ãƒ¬ãƒ¼ã‚¹IDã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾— |
| `full` | ä¸€æ‹¬å‡¦ç† | æ—¥ç¨‹å–å¾—â†’ãƒ‡ãƒ¼ã‚¿å–å¾—ã®å®Œå…¨è‡ªå‹•å®Ÿè¡Œ |

---

## ğŸ“… 1. ãƒ¬ãƒ¼ã‚¹æ—¥ç¨‹å–å¾—ï¼ˆscheduleï¼‰

### åŸºæœ¬çš„ãªæ—¥ç¨‹å–å¾—

#### å˜æ—¥ã®æ—¥ç¨‹å–å¾—
```bash
# ä»Šæ—¥ã®æ—¥ç¨‹å–å¾—
python -m src.batch_cli schedule --start-date $(date +%Y/%m/%d)

# ç‰¹å®šæ—¥ã®æ—¥ç¨‹å–å¾—
python -m src.batch_cli schedule --start-date 2024/12/28
```

#### æœŸé–“æŒ‡å®šã§ã®æ—¥ç¨‹å–å¾—
```bash
# é€±æœ«2æ—¥é–“ã®æ—¥ç¨‹å–å¾—
python -m src.batch_cli schedule --start-date 2024/12/28 --end-date 2024/12/29

# 1é€±é–“ã®æ—¥ç¨‹å–å¾—
python -m src.batch_cli schedule --start-date 2024/12/23 --end-date 2024/12/29
```

### è©³ç´°ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãå®Ÿè¡Œ

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“éš”èª¿æ•´
```bash
# é–“éš”ã‚’5ç§’ã«è¨­å®šï¼ˆã‚µãƒ¼ãƒãƒ¼è² è·è»½æ¸›ï¼‰
python -m src.batch_cli schedule --start-date 2024/12/28 --delay 5

# é–“éš”ã‚’10ç§’ã«è¨­å®šï¼ˆã‚ˆã‚Šæ…é‡ãªå–å¾—ï¼‰
python -m src.batch_cli schedule --start-date 2024/12/28 --delay 10
```

#### ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰å®Ÿè¡Œ
```bash
# è©³ç´°ãƒ­ã‚°ä»˜ãå®Ÿè¡Œ
python -m src.batch_cli schedule --start-date 2024/12/28 --debug
```

### å®Ÿè¡Œçµæœã®ç¢ºèª

#### ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
```bash
# ãƒ¬ãƒ¼ã‚¹IDæƒ…å ±ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -la data/race_ids/
# ä¾‹: 20241228_info.json

# ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ç¢ºèª
cat data/race_ids/20241228_info.json
```

#### æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›ä¾‹
```json
{
  "date": "20241228",
  "kaisai_data": {
    "ä¸­å±±": [
      {
        "race_no": "1",
        "race_name": "3æ­³æœªå‹åˆ©",
        "course": "ãƒ€1200m",
        "race_id": "202412286011"
      }
    ],
    "é˜ªç¥": [
      {
        "race_no": "1", 
        "race_name": "3æ­³æœªå‹åˆ©",
        "course": "èŠ1400m",
        "race_id": "202412280111"
      }
    ]
  }
}
```

---

## ğŸ“Š 2. ãƒ¬ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆdataï¼‰

### åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿å–å¾—

#### å…¨ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ã®å–å¾—
```bash
# å…¨ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ï¼ˆseiseki, shutsuba, cyokyo, danwaï¼‰ã‚’å–å¾—
python -m src.batch_cli data --start-date 2024/12/28
```

#### ç‰¹å®šãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ã®ã¿å–å¾—
```bash
# æˆç¸¾ãƒ‡ãƒ¼ã‚¿ã®ã¿å–å¾—
python -m src.batch_cli data --start-date 2024/12/28 --data-types seiseki

# å‡ºé¦¬è¡¨ã¨èª¿æ•™ãƒ‡ãƒ¼ã‚¿ã®ã¿å–å¾—
python -m src.batch_cli data --start-date 2024/12/28 --data-types shutsuba,cyokyo

# å©èˆã®è©±ã®ã¿å–å¾—
python -m src.batch_cli data --start-date 2024/12/28 --data-types danwa
```

### ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—åˆ¥è©³ç´°

#### seisekiï¼ˆæˆç¸¾ãƒ‡ãƒ¼ã‚¿ï¼‰
```bash
# æˆç¸¾ãƒ‡ãƒ¼ã‚¿å–å¾—
python -m src.batch_cli data --start-date 2024/12/28 --data-types seiseki --delay 3

# ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ä¾‹
# data/seiseki_202412286011.json
# data/seiseki_202412280111.json
```

**å«ã¾ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿**:
- ãƒ¬ãƒ¼ã‚¹çµæœãƒ»ç€é †
- é¨æ‰‹ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼
- æ¬¡èµ°å±•æœ›ãƒ¡ãƒ¢
- ã‚ªãƒƒã‚ºãƒ»äººæ°—æƒ…å ±

#### shutsubaï¼ˆå‡ºé¦¬è¡¨ï¼‰
```bash
# å‡ºé¦¬è¡¨ãƒ‡ãƒ¼ã‚¿å–å¾—
python -m src.batch_cli data --start-date 2024/12/28 --data-types shutsuba --delay 3

# ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ä¾‹  
# data/shutsuba_202412286011.json
# data/shutsuba_202412280111.json
```

**å«ã¾ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿**:
- å‡ºèµ°é¦¬ãƒ»é¨æ‰‹ãƒ»å©èˆæƒ…å ±
- è¡€çµ±æƒ…å ±ï¼ˆçˆ¶ãƒ»æ¯ãƒ»æ¯çˆ¶ï¼‰
- umacdï¼ˆé¦¬ã‚³ãƒ¼ãƒ‰ï¼‰æƒ…å ±

#### cyokyoï¼ˆèª¿æ•™ãƒ‡ãƒ¼ã‚¿ï¼‰
```bash
# èª¿æ•™ãƒ‡ãƒ¼ã‚¿å–å¾—
python -m src.batch_cli data --start-date 2024/12/28 --data-types cyokyo --delay 3

# ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ä¾‹
# data/cyokyo_202412286011.json
# data/cyokyo_202412280111.json
```

**å«ã¾ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿**:
- èª¿æ•™ã‚¿ã‚¤ãƒ ãƒ»è©•ä¾¡
- èª¿æ•™ã‚³ãƒ¡ãƒ³ãƒˆãƒ»è§£èª¬
- é¨ä¹—è€…æƒ…å ±

#### danwaï¼ˆå©èˆã®è©±ï¼‰
```bash
# å©èˆã®è©±ãƒ‡ãƒ¼ã‚¿å–å¾—
python -m src.batch_cli data --start-date 2024/12/28 --data-types danwa --delay 3

# ç”Ÿæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ä¾‹
# data/danwa_202412286011.json
# data/danwa_202412280111.json
```

**å«ã¾ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿**:
- å©èˆé–¢ä¿‚è€…ã‚³ãƒ¡ãƒ³ãƒˆ
- ã‚³ãƒ¡ãƒ³ãƒˆæ—¥æ™‚æƒ…å ±

---

## ğŸ¯ 3. ä¸€æ‹¬å‡¦ç†ï¼ˆfullï¼‰

### åŸºæœ¬çš„ãªä¸€æ‹¬å‡¦ç†

#### æ¨å¥¨è¨­å®šã§ã®å®Ÿè¡Œ
```bash
# æ¨™æº–çš„ãªä¸€æ‹¬å‡¦ç†ï¼ˆæ¨å¥¨ï¼‰
python -m src.batch_cli full --start-date 2024/12/28
```

ã“ã®å®Ÿè¡Œã«ã‚ˆã‚Šä»¥ä¸‹ãŒè‡ªå‹•ã§å®Ÿè¡Œã•ã‚Œã¾ã™ï¼š
1. ãƒ¬ãƒ¼ã‚¹æ—¥ç¨‹å–å¾—ï¼ˆscheduleï¼‰
2. 5ç§’å¾…æ©Ÿ
3. å…¨ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—å–å¾—ï¼ˆdataï¼‰

#### ã‚«ã‚¹ã‚¿ãƒ è¨­å®šã§ã®å®Ÿè¡Œ
```bash
# ã‚«ã‚¹ã‚¿ãƒ è¨­å®šä¾‹
python -m src.batch_cli full \
  --start-date 2024/12/28 \
  --data-types seiseki,shutsuba \
  --delay 5 \
  --wait-between-phases 10 \
  --debug
```

### æœŸé–“æŒ‡å®šã§ã®ä¸€æ‹¬å‡¦ç†

#### é€±æœ«ã®ä¸€æ‹¬å‡¦ç†
```bash
# åœŸæ—¥ã®ä¸€æ‹¬å‡¦ç†
python -m src.batch_cli full \
  --start-date 2024/12/28 \
  --end-date 2024/12/29 \
  --delay 5
```

#### 1é€±é–“ã®ä¸€æ‹¬å‡¦ç†
```bash
# 1é€±é–“åˆ†ã®ä¸€æ‹¬å‡¦ç†ï¼ˆæ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ï¼‰
python -m src.batch_cli full \
  --start-date 2024/12/23 \
  --end-date 2024/12/29 \
  --delay 5 \
  --wait-between-phases 10
```

---

## âš™ï¸ ã‚ªãƒ—ã‚·ãƒ§ãƒ³è©³ç´°èª¬æ˜

### å¿…é ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³

#### --start-dateï¼ˆå¿…é ˆï¼‰
```bash
# æ—¥ä»˜å½¢å¼ã®ä¾‹
--start-date 2024/12/28    # YYYY/MM/DD
--start-date 2024/1/5      # æœˆæ—¥ã®0åŸ‹ã‚ãªã—ã‚‚OK
--start-date 24/12/28      # YY/MM/DDå½¢å¼ã‚‚å¯èƒ½
```

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³é …ç›®

#### --end-dateï¼ˆæœŸé–“æŒ‡å®šï¼‰
```bash
# å˜æ—¥å®Ÿè¡Œï¼ˆend-dateçœç•¥æ™‚ï¼‰
python -m src.batch_cli full --start-date 2024/12/28

# æœŸé–“å®Ÿè¡Œ
python -m src.batch_cli full --start-date 2024/12/28 --end-date 2024/12/29
```

#### --data-typesï¼ˆãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—æŒ‡å®šï¼‰
```bash
# åˆ©ç”¨å¯èƒ½ãªãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—
--data-types seiseki           # æˆç¸¾ã®ã¿
--data-types shutsuba          # å‡ºé¦¬è¡¨ã®ã¿
--data-types cyokyo            # èª¿æ•™ã®ã¿  
--data-types danwa             # å©èˆã®è©±ã®ã¿
--data-types seiseki,shutsuba  # è¤‡æ•°æŒ‡å®šï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰

# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆæŒ‡å®šãªã—ï¼‰
# seiseki,shutsuba,cyokyo,danwaï¼ˆå…¨ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ï¼‰
```

#### --delayï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“éš”ï¼‰
```bash
--delay 3    # 3ç§’é–“éš”ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
--delay 5    # 5ç§’é–“éš”ï¼ˆæ¨å¥¨ãƒ»å®‰å…¨ï¼‰
--delay 10   # 10ç§’é–“éš”ï¼ˆæ…é‡ï¼‰
--delay 1    # 1ç§’é–“éš”ï¼ˆé«˜é€Ÿãƒ»éæ¨å¥¨ï¼‰
```

#### --wait-between-phasesï¼ˆãƒ•ã‚§ãƒ¼ã‚ºé–“å¾…æ©Ÿæ™‚é–“ï¼‰
```bash
--wait-between-phases 5.0    # 5ç§’ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
--wait-between-phases 10     # 10ç§’ï¼ˆæ¨å¥¨ï¼‰
--wait-between-phases 15     # 15ç§’ï¼ˆæ…é‡ï¼‰
```

#### --debugï¼ˆè©³ç´°ãƒ­ã‚°ï¼‰
```bash
# è©³ç´°ãƒ­ã‚°ãƒ¢ãƒ¼ãƒ‰
python -m src.batch_cli full --start-date 2024/12/28 --debug
```

---

## ğŸ“ å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†

### ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜å ´æ‰€

#### çµ±ä¸€ä¿å­˜æ–¹å¼
å…¨JSONãƒ•ã‚¡ã‚¤ãƒ«ã¯`KEIBA_DATA_ROOT_DIR`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼š`./data`ï¼‰ç›´ä¸‹ã«ä¿å­˜ã•ã‚Œã¾ã™ï¼š

```
data/
â”œâ”€â”€ race_ids/
â”‚   â””â”€â”€ 20241228_info.json        # ãƒ¬ãƒ¼ã‚¹IDæƒ…å ±
â”œâ”€â”€ nittei_20241228.json           # æ—¥ç¨‹ãƒ‡ãƒ¼ã‚¿ï¼ˆscheduleå®Ÿè¡Œæ™‚ï¼‰
â”œâ”€â”€ seiseki_202412286011.json      # æˆç¸¾ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ seiseki_202412280111.json      # æˆç¸¾ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ shutsuba_202412286011.json     # å‡ºé¦¬è¡¨ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ shutsuba_202412280111.json     # å‡ºé¦¬è¡¨ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ cyokyo_202412286011.json       # èª¿æ•™ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ cyokyo_202412280111.json       # èª¿æ•™ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ danwa_202412286011.json        # å©èˆã®è©±ãƒ‡ãƒ¼ã‚¿
â””â”€â”€ danwa_202412280111.json        # å©èˆã®è©±ãƒ‡ãƒ¼ã‚¿
```

### ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡

| ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ— | ãƒ•ã‚¡ã‚¤ãƒ«åå½¢å¼ | ä¾‹ |
|-------------|----------------|-----|
| ãƒ¬ãƒ¼ã‚¹IDæƒ…å ± | `race_ids/YYYYMMDD_info.json` | `race_ids/20241228_info.json` |
| æ—¥ç¨‹ | `nittei_YYYYMMDD.json` | `nittei_20241228.json` |
| æˆç¸¾ | `seiseki_YYYYMMDDHHMM.json` | `seiseki_202412286011.json` |
| å‡ºé¦¬è¡¨ | `shutsuba_YYYYMMDDHHMM.json` | `shutsuba_202412286011.json` |
| èª¿æ•™ | `cyokyo_YYYYMMDDHHMM.json` | `cyokyo_202412286011.json` |
| å©èˆã®è©± | `danwa_YYYYMMDDHHMM.json` | `danwa_202412286011.json` |

---

## ğŸ“Š å®Ÿè¡Œçµæœã®ç¢ºèªæ–¹æ³•

### 1. ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèªã‚³ãƒãƒ³ãƒ‰

#### åŸºæœ¬çš„ãªãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
```bash
# å…¨JSONãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -la data/*.json

# ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—åˆ¥ç¢ºèª
ls -la data/seiseki_*.json
ls -la data/shutsuba_*.json

# æœ€æ–°ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -lat data/*.json | head -5
```

#### ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºç¢ºèª
```bash
# ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡ç¢ºèª
du -sh data/

# ãƒ•ã‚¡ã‚¤ãƒ«æ•°ç¢ºèª
ls data/*.json | wc -l
```

### 2. JSONå†…å®¹ç¢ºèª

#### JSONãƒ•ã‚¡ã‚¤ãƒ«ã®åŸºæœ¬ç¢ºèª
```bash
# ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹è¡¨ç¤ºï¼ˆå…ˆé ­20è¡Œï¼‰
head -20 data/seiseki_202412286011.json

# jqä½¿ç”¨ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®å ´åˆï¼‰
cat data/seiseki_202412286011.json | jq .

# Pythonã§ã®ç¢ºèª
python -c "
import json
with open('data/seiseki_202412286011.json', 'r', encoding='utf-8') as f:
    data = json.load(f)
print(f'ãƒ¬ãƒ¼ã‚¹å: {data[\"race_info\"][\"race_name\"]}')
print(f'å‡ºèµ°é ­æ•°: {len(data[\"results\"])}é ­')
"
```

### 3. ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª

#### å®Ÿè¡Œãƒ­ã‚°ã®ç¢ºèª
```bash
# æœ€æ–°ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -lat logs/*.log | head -1

# ãƒ­ã‚°å†…å®¹ç¢ºèª
tail -50 logs/batch_cli_*.log

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ã¿ç¢ºèª
grep -i error logs/batch_cli_*.log
```

---

## ğŸ”§ å®Ÿç”¨çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³

### ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ—¥æ¬¡å‡¦ç†
```bash
# æ¯æ—¥ã®åŸºæœ¬å‡¦ç†
python -m src.batch_cli full --start-date $(date +%Y/%m/%d) --delay 5
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³2: é€±æœ«å‡¦ç†
```bash
# åœŸæ›œæ—¥ã®å‡¦ç†
python -m src.batch_cli full --start-date $(date -d "saturday" +%Y/%m/%d) --delay 5

# æ—¥æ›œæ—¥ã®å‡¦ç†  
python -m src.batch_cli full --start-date $(date -d "sunday" +%Y/%m/%d) --delay 5
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³3: æˆç¸¾ãƒ‡ãƒ¼ã‚¿ã®ã¿é›†ä¸­å–å¾—
```bash
# æˆç¸¾ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚’åŠ¹ç‡çš„ã«å–å¾—
python -m src.batch_cli data --start-date 2024/12/28 --data-types seiseki --delay 3
```

### ãƒ‘ã‚¿ãƒ¼ãƒ³4: éå»ãƒ‡ãƒ¼ã‚¿ã®è£œå®Œå–å¾—
```bash
# éå»1é€±é–“ã®ãƒ‡ãƒ¼ã‚¿è£œå®Œ
for i in {1..7}; do
    date=$(date -d "$i days ago" +%Y/%m/%d)
    python -m src.batch_cli full --start-date $date --delay 5
    sleep 60  # 1åˆ†é–“éš”
done
```

---

## âš ï¸ æ³¨æ„äº‹é …ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ã‚µãƒ¼ãƒãƒ¼è² è·ã¸ã®é…æ…®
- **æ¨å¥¨é–“éš”**: `--delay 3`ä»¥ä¸Šï¼ˆ5ç§’æ¨å¥¨ï¼‰
- **ãƒ•ã‚§ãƒ¼ã‚ºé–“å¾…æ©Ÿ**: `--wait-between-phases 5`ä»¥ä¸Šï¼ˆ10ç§’æ¨å¥¨ï¼‰
- **åŒæ™‚å®Ÿè¡Œå›é¿**: è¤‡æ•°ã®ã‚³ãƒãƒ³ãƒ‰ã‚’åŒæ™‚å®Ÿè¡Œã—ãªã„

### 2. Cookieæœ‰åŠ¹æœŸé™
- Cookieã¯å®šæœŸçš„ã«ç„¡åŠ¹ã«ãªã‚Šã¾ã™
- ã‚¨ãƒ©ãƒ¼ãŒé »ç™ºã™ã‚‹å ´åˆã¯å†ãƒ­ã‚°ã‚¤ãƒ³ãƒ»Cookieæ›´æ–°

### 3. é–‹å‚¬ãŒãªã„æ—¥ã®å‡¦ç†
- é–‹å‚¬ãŒãªã„æ—¥ï¼ˆæœˆæ›œæ—¥ãªã©ï¼‰ã¯JSONãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã›ã‚“
- ã“ã‚Œã¯æ­£å¸¸ãªå‹•ä½œã§ã™

### 4. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- 404ã‚¨ãƒ©ãƒ¼: æŒ‡å®šæ—¥ã«é–‹å‚¬ãŒãªã„
- èªè¨¼ã‚¨ãƒ©ãƒ¼: Cookieæœ‰åŠ¹æœŸé™åˆ‡ã‚Œ
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¾ãŸã¯ã‚µãƒ¼ãƒãƒ¼è² è·

---

## ğŸ†• æ–°æ©Ÿèƒ½ã®æ´»ç”¨

### çµ±åˆãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ

å‡ºèµ°è¡¨ã€èª¿æ•™ã€å©èˆè«‡è©±ã€æˆç¸¾ã‚’1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«çµ±åˆï¼š

```bash
# å˜ä¸€ãƒ¬ãƒ¼ã‚¹ã®çµ±åˆ
python -m src.integrator_cli single --race-id 202412286011

# æŒ‡å®šæ—¥ã®å…¨ãƒ¬ãƒ¼ã‚¹çµ±åˆ
python -m src.integrator_cli batch --date 2024/12/28

# æˆç¸¾ãƒ‡ãƒ¼ã‚¿ã§çµ±åˆãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°
python -m src.integrator_cli update --race-id 202412286011

# çµ±åˆãƒ‡ãƒ¼ã‚¿ã®åˆ†æãƒ¬ãƒãƒ¼ãƒˆ
python -m src.integrator_cli analyze --race-id 202412286011
```

### ãƒ•ã‚¡ã‚¤ãƒ«æ•´ç†æ©Ÿèƒ½

å¹´/æœˆ/æ—¥/ç«¶é¦¬å ´åˆ¥ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ•´ç†ï¼š

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ•´ç†ï¼ˆç§»å‹•ï¼‰
python -m src.organizer_cli organize

# ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦æ•´ç†ï¼ˆå…ƒãƒ•ã‚¡ã‚¤ãƒ«ä¿æŒï¼‰
python -m src.organizer_cli organize --copy

# ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆ
python -m src.organizer_cli index

# ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢
python -m src.organizer_cli find --date 2024/12/28 --venue æ±äº¬

# ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸çµ±è¨ˆ
python -m src.organizer_cli stats --detailed
```

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

åŸºæœ¬æ“ä½œã‚’ç¿’å¾—ã—ãŸã‚‰ï¼š

1. **é«˜é€Ÿç‰ˆæ´»ç”¨**: [é«˜é€Ÿç‰ˆã®ä½¿ã„æ–¹.md](é«˜é€Ÿç‰ˆã®ä½¿ã„æ–¹.md)ã§æœ€é©åŒ–ç‰ˆã‚’å­¦ç¿’
2. **çµ±åˆæ©Ÿèƒ½æ´»ç”¨**: `integrator_cli`ã§ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—ã¦åˆ†æåŠ¹ç‡ã‚’å‘ä¸Š
3. **ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†**: `organizer_cli`ã§ãƒ‡ãƒ¼ã‚¿ã‚’æ•´ç†ã—ã¦ç®¡ç†ã‚’åŠ¹ç‡åŒ–
4. **ãƒãƒƒãƒå‡¦ç†**: [ãƒãƒƒãƒå‡¦ç†.md](ãƒãƒƒãƒå‡¦ç†.md)ã§è‡ªå‹•åŒ–ã‚’è¨­å®š
5. **ãƒˆãƒ©ãƒ–ãƒ«å¯¾å¿œ**: [é‹ç”¨/ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°.md](../é‹ç”¨/ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°.md)ã§ã‚¨ãƒ©ãƒ¼å¯¾å¿œã‚’ç¿’å¾—

---

**ğŸ¯ å¾“æ¥ç‰ˆCLIã‚’ãƒã‚¹ã‚¿ãƒ¼ã™ã‚‹ã“ã¨ã§ã€å®‰å®šã—ãŸãƒ‡ãƒ¼ã‚¿å–å¾—ã®åŸºç›¤ãŒã§ãã¾ã™ã€‚æ…£ã‚Œã¦ããŸã‚‰é«˜é€Ÿç‰ˆã«ç§»è¡Œã—ã¦åŠ¹ç‡ã‚’å‘ä¸Šã•ã›ã¾ã—ã‚‡ã†ï¼**