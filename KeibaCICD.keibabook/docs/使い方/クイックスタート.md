# ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ - é«˜é€Ÿç‰ˆãƒ‡ãƒ¼ã‚¿å–å¾—ã‚·ã‚¹ãƒ†ãƒ 

## ğŸš€ 5åˆ†ã§å§‹ã‚ã‚‹é«˜é€Ÿãƒ‡ãƒ¼ã‚¿å–å¾—

### 1. ç’°å¢ƒæº–å‚™ï¼ˆåˆå›ã®ã¿ï¼‰

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone [repository_url]
cd keiba-cicd-core/KeibaCICD.keibabook

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# .envãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
echo "KEIBA_DATA_ROOT_DIR=./data" > .env
echo "KEIBABOOK_SESSION=your_session" >> .env
echo "KEIBABOOK_TK=your_tk" >> .env
echo "KEIBABOOK_XSRF_TOKEN=your_token" >> .env
```

### 2. Cookieå–å¾—

1. Chrome/Edgeã§ https://p.keibabook.co.jp ã«ãƒ­ã‚°ã‚¤ãƒ³
2. F12ã‚­ãƒ¼ â†’ Application â†’ Cookies
3. ä»¥ä¸‹ã®3ã¤ã®å€¤ã‚’ã‚³ãƒ”ãƒ¼ï¼š
   - `keibabook_session`
   - `tk`
   - `XSRF-TOKEN`

### 3. åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰

#### ä»Šæ—¥ã®ãƒ¬ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—

```bash
# ä»Šæ—¥ã®æ—¥ç¨‹ã‚’ç¢ºèª
python -m src.fast_batch_cli schedule --start-date $(date +%Y/%m/%d)

# å…¨ãƒ‡ãƒ¼ã‚¿ã‚’é«˜é€Ÿå–å¾—
python -m src.fast_batch_cli full --start-date $(date +%Y/%m/%d) \
  --delay 0.5 --max-workers 10
```

#### ç‰¹å®šæ—¥ã®ãƒ‡ãƒ¼ã‚¿å–å¾—

```bash
# 2025å¹´8æœˆ9æ—¥ã®ãƒ‡ãƒ¼ã‚¿
python -m src.fast_batch_cli full --start-date 2025/08/09 \
  --delay 0.5 --max-workers 10
```

#### é€±æœ«2æ—¥é–“ã®ãƒ‡ãƒ¼ã‚¿å–å¾—

```bash
python -m src.fast_batch_cli full \
  --start-date 2025/08/09 \
  --end-date 2025/08/10 \
  --delay 0.5 --max-workers 8
```

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### æ¨å¥¨è¨­å®š

| ç”¨é€” | delay | max-workers |
|------|-------|-------------|
| å®‰å®šé‡è¦– | 1.0 | 5 |
| ãƒãƒ©ãƒ³ã‚¹ | 0.5 | 8 |
| æœ€é«˜é€Ÿ | 0.3 | 10-15 |

### å®Ÿè¡Œä¾‹

```bash
# å®‰å®šé‡è¦–
python -m src.fast_batch_cli full --start-date 2025/08/09 \
  --delay 1.0 --max-workers 5

# ãƒãƒ©ãƒ³ã‚¹ï¼ˆæ¨å¥¨ï¼‰
python -m src.fast_batch_cli full --start-date 2025/08/09 \
  --delay 0.5 --max-workers 8

# æœ€é«˜é€Ÿ
python -m src.fast_batch_cli full --start-date 2025/08/09 \
  --delay 0.3 --max-workers 15
```

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿çµ±åˆ

å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’1ãƒ•ã‚¡ã‚¤ãƒ«ã«çµ±åˆï¼š

```bash
# å˜ä¸€ãƒ¬ãƒ¼ã‚¹
python -m src.integrator_cli single --race-id 202508090101

# æ—¥ä»˜ã®å…¨ãƒ¬ãƒ¼ã‚¹
python -m src.integrator_cli batch --date 2025/08/09
```

## ğŸ“ ãƒ‡ãƒ¼ã‚¿æ•´ç†

```bash
# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¹´/æœˆ/æ—¥/ç«¶é¦¬å ´åˆ¥ã«æ•´ç†
python -m src.organizer_cli organize --copy

# ç‰¹å®šæ—¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢
python -m src.organizer_cli find --date 2025/08/09
```

## ğŸ” å‹•ä½œç¢ºèª

```bash
# ãƒ­ã‚°ç¢ºèª
tail -f logs/fast_batch_cli_*.log

# ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -la data/*.json

# çµ±åˆãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -la data/integrated/*.json
```

## âš ï¸ æ³¨æ„äº‹é …

1. **åˆå›å®Ÿè¡Œ**: CookieãŒæ­£ã—ã„ã‹å°‘é‡ã®ãƒ‡ãƒ¼ã‚¿ã§ç¢ºèª
2. **å¤§é‡å–å¾—**: `--delay 0.5`ä»¥ä¸Šã‚’æ¨å¥¨
3. **ã‚¨ãƒ©ãƒ¼æ™‚**: ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã§è©³ç´°ç¢ºèª

## ğŸ’¡ Tips

### PowerShellã§ã®æ—¥ä»˜æŒ‡å®š

```powershell
# ä»Šæ—¥
python -m src.fast_batch_cli full --start-date (Get-Date -Format "yyyy/MM/dd")

# æ˜æ—¥
python -m src.fast_batch_cli schedule --start-date (Get-Date).AddDays(1).ToString("yyyy/MM/dd")
```

### ç‰¹å®šãƒ‡ãƒ¼ã‚¿ã®ã¿å–å¾—

```bash
# æˆç¸¾ã®ã¿
python -m src.fast_batch_cli data --start-date 2025/08/09 \
  --data-types seiseki --max-workers 10

# å‡ºèµ°è¡¨ã¨èª¿æ•™ã®ã¿
python -m src.fast_batch_cli data --start-date 2025/08/09 \
  --data-types shutsuba,cyokyo --max-workers 8
```

---

**5åˆ†ã§é«˜é€Ÿãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’é–‹å§‹ã§ãã¾ã™ï¼**