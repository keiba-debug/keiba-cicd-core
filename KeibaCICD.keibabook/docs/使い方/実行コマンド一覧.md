# å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

## ğŸ“‹ å®Œå…¨è‡ªå‹•å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰

### æœ¬ç•ªç’°å¢ƒå‘ã‘ - å…ƒãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ä»˜ãå®Œå…¨å‡¦ç†

```bash
# ã‚¹ãƒ†ãƒƒãƒ—1: æ—¥ç¨‹ãƒ‡ãƒ¼ã‚¿å–å¾—ã¨ãƒ¬ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ä¸€æ‹¬å–å¾—
python -m src.fast_batch_cli full --start 2025/08/09 --end 2025/08/10 --delay 0.5 --max-workers 10

# ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ‡ãƒ¼ã‚¿çµ±åˆï¼ˆå®Ÿéš›ã®é–‹å‚¬æ—¥ã§ä½œæˆï¼‰
python -m src.integrator_cli batch --start-date 2025/08/09 --end-date 2025/08/10

# ã‚¹ãƒ†ãƒƒãƒ—3: Markdownç”Ÿæˆï¼ˆorganizedä»¥ä¸‹ã«å‡ºåŠ›ï¼‰
python -m src.markdown_cli batch --date 2025/08/09 --organized
python -m src.markdown_cli batch --date 2025/08/10 --organized

# ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ•ã‚¡ã‚¤ãƒ«æ•´ç†ã¨tempãƒ•ã‚©ãƒ«ãƒ€ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
python -m src.organizer_cli organize --copy --delete-original

# ã‚¹ãƒ†ãƒƒãƒ—5: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆ
python -m src.organizer_cli index


# ãƒ‘ãƒ‰ãƒƒã‚¯æƒ…å ±ã‚’å®šæœŸæ›´æ–°ï¼ˆ5åˆ†é–“éš”ã§20å›ï¼‰
python -m src.paddock_updater --date 2025/08/10 --continuous --interval 300
--max-iterations 20

# çµ±åˆãƒ•ã‚¡ã‚¤ãƒ«ã¨Markdownç”Ÿæˆï¼ˆç«¶é¦¬å ´åˆ¥ãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜ï¼‰
python -m src.integrator_cli single --race-id 202501080609
python -m src.markdown_cli single --race-id 202501080609

```

## ğŸš€ é«˜é€Ÿãƒ‡ãƒ¼ã‚¿å–å¾—ã‚³ãƒãƒ³ãƒ‰

### ãƒ•ãƒ«å‡¦ç†ï¼ˆæ¨å¥¨ï¼‰
```bash
# æ—¥ç¨‹å–å¾— â†’ å…¨ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—å–å¾—ã‚’ä¸€æ‹¬å®Ÿè¡Œ
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§6ç¨®é¡ã™ã¹ã¦å–å¾—: seiseki,shutsuba,cyokyo,danwa,syoin,paddok
python -m src.fast_batch_cli full --start 2025/08/09 --end 2025/08/10 --delay 0.5 --max-workers 8
```

### å€‹åˆ¥å‡¦ç†

#### æ—¥ç¨‹ãƒ‡ãƒ¼ã‚¿ã®ã¿
```bash
python -m src.fast_batch_cli schedule --start 2025-08-09 --end 2025-08-10
```

#### ç‰¹å®šãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ã®ã¿
```bash
# åŸºæœ¬4ãƒ‡ãƒ¼ã‚¿
python -m src.fast_batch_cli data --start 2025-08-09 --end 2025-08-10 --data-types seiseki,shutsuba,cyokyo,danwa

# æ–°è¦ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ã®ã¿ï¼ˆå‰èµ°ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ã€ãƒ‘ãƒ‰ãƒƒã‚¯ï¼‰
python -m src.fast_batch_cli data --start 2025-08-09 --end 2025-08-10 --data-types syoin,paddok

# å…¨ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—æ˜ç¤ºæŒ‡å®š
python -m src.fast_batch_cli data --start 2025-08-09 --end 2025-08-10 --data-types seiseki,shutsuba,cyokyo,danwa,syoin,paddok
```

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿çµ±åˆã‚³ãƒãƒ³ãƒ‰

### ãƒãƒƒãƒçµ±åˆï¼ˆæœŸé–“æŒ‡å®šï¼‰
```bash
python -m src.integrator_cli batch --start-date 2025/08/09 --end-date 2025/08/10
```

### å˜æ—¥çµ±åˆ
```bash
python -m src.integrator_cli batch --date 2025/08/09
```

### å€‹åˆ¥ãƒ¬ãƒ¼ã‚¹çµ±åˆ
```bash
python -m src.integrator_cli integrate --race-id 202508090101
```

## ğŸ“ Markdownç”Ÿæˆã‚³ãƒãƒ³ãƒ‰

### ãƒãƒƒãƒç”Ÿæˆï¼ˆorganizedä»¥ä¸‹ã«å‡ºåŠ›ï¼‰
```bash
# --organizedã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§organized/YYYY/MM/DD/ä»¥ä¸‹ã«å‡ºåŠ›
python -m src.markdown_cli batch --date 2025/08/09 --organized
python -m src.markdown_cli batch --date 2025/08/10 --organized
```

### å€‹åˆ¥ãƒ¬ãƒ¼ã‚¹ç”Ÿæˆ
```bash
python -m src.markdown_cli single --race-id 202508090101 --organized
```

### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆä¿å­˜ãªã—ï¼‰
```bash
python -m src.markdown_cli preview --race-id 202508090101
```

### æ—¢å­˜JSONã‹ã‚‰ä¸€æ‹¬å¤‰æ›
```bash
python -m src.markdown_cli convert --source-dir Z:/KEIBA-CICD/data/integrated --organized
```

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ•´ç†ã‚³ãƒãƒ³ãƒ‰

### æ•´ç†ï¼ˆã‚³ãƒ”ãƒ¼ + tempãƒ•ã‚©ãƒ«ãƒ€å‰Šé™¤ï¼‰
```bash
# tempãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰organizedã¸ã‚³ãƒ”ãƒ¼å¾Œã€tempãƒ•ã‚©ãƒ«ãƒ€ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
python -m src.organizer_cli organize --copy --delete-original
```

### æ•´ç†ï¼ˆç§»å‹•ã®ã¿ï¼‰
```bash
python -m src.organizer_cli organize
```

### ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆ
```bash
python -m src.organizer_cli index
```

### ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢
```bash
# æ—¥ä»˜ã§æ¤œç´¢
python -m src.organizer_cli find --date 2025/08/09

# ç«¶é¦¬å ´ã§æ¤œç´¢
python -m src.organizer_cli find --venue æ±äº¬

# ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ã§æ¤œç´¢
python -m src.organizer_cli find --data-type integrated
```

### çµ±è¨ˆæƒ…å ±è¡¨ç¤º
```bash
python -m src.organizer_cli stats --detailed
```

## ğŸ”§ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¬æ˜

### å…±é€šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | ä¾‹ |
|----------|------|-----------|-----|
| `--start` / `--start-date` | é–‹å§‹æ—¥ | - | 2025-08-09, 2025/08/09, 20250809 |
| `--end` / `--end-date` | çµ‚äº†æ—¥ | é–‹å§‹æ—¥ã¨åŒã˜ | 2025-08-10 |
| `--date` | å˜ä¸€æ—¥ä»˜ | - | 2025/08/09 |

### fast_batch_cliå°‚ç”¨

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ | æ¨å¥¨å€¤ |
|----------|------|-----------|--------|
| `--delay` | ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“ã®é…å»¶ï¼ˆç§’ï¼‰ | 1.0 | 0.5 |
| `--max-workers` | ä¸¦åˆ—ãƒ¯ãƒ¼ã‚«ãƒ¼æ•° | 5 | 8-10 |
| `--data-types` | å–å¾—ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ— | seiseki,shutsuba,cyokyo,danwa,syoin,paddok | å…¨ã‚¿ã‚¤ãƒ— |
| `--wait-between-phases` | Phaseé–“ã®å¾…æ©Ÿæ™‚é–“ | 2.0 | 2.0 |

### ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ä¸€è¦§

| ã‚¿ã‚¤ãƒ— | èª¬æ˜ | URL |
|--------|------|-----|
| `seiseki` | æˆç¸¾ãƒ‡ãƒ¼ã‚¿ | /cyuou/seiseki/ |
| `shutsuba` | å‡ºé¦¬è¡¨ï¼ˆæœ¬èªŒå°å«ã‚€ï¼‰ | /cyuou/syutuba/ |
| `cyokyo` | èª¿æ•™ãƒ‡ãƒ¼ã‚¿ | /cyuou/cyokyo/ |
| `danwa` | å©èˆè«‡è©± | /cyuou/danwa/ |
| `syoin` | å‰èµ°ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ | /cyuou/syoin/ |
| `paddok` | ãƒ‘ãƒ‰ãƒƒã‚¯æƒ…å ± | /cyuou/paddok/ |

## ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
Z:/KEIBA-CICD/data/
â”œâ”€â”€ temp/              # ä¸€æ™‚ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆè‡ªå‹•å‰Šé™¤ï¼‰
â”œâ”€â”€ race_ids/          # æ—¥ç¨‹ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ integrated/        # çµ±åˆJSONãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ markdown/          # Markdownãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆé€šå¸¸ï¼‰
â”œâ”€â”€ organized/         # æ•´ç†æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ 2025/
â”‚       â””â”€â”€ 08/
â”‚           â”œâ”€â”€ 09/    # 8æœˆ9æ—¥é–‹å‚¬
â”‚           â”‚   â”œâ”€â”€ æœ­å¹Œ/
â”‚           â”‚   â”œâ”€â”€ æ–°æ½Ÿ/
â”‚           â”‚   â”œâ”€â”€ ä¸­äº¬/
â”‚           â”‚   â””â”€â”€ *.md  # Markdownãƒ•ã‚¡ã‚¤ãƒ«
â”‚           â””â”€â”€ 10/    # 8æœˆ10æ—¥é–‹å‚¬
â””â”€â”€ logs/              # ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ’¡ ä½¿ç”¨ä¾‹

### ä¾‹1: åœŸæ—¥ã®ãƒ‡ãƒ¼ã‚¿ã‚’å®Œå…¨å‡¦ç†ï¼ˆæ¨å¥¨ï¼‰
```bash
# ã™ã¹ã¦è‡ªå‹•ã§å‡¦ç†ï¼ˆtempãƒ•ã‚©ãƒ«ãƒ€ã‚‚è‡ªå‹•å‰Šé™¤ï¼‰
python -m src.fast_batch_cli full --start 2025/08/09 --end 2025/08/10 --delay 0.5 --max-workers 8
python -m src.integrator_cli batch --start-date 2025/08/09 --end-date 2025/08/10
python -m src.markdown_cli batch --date 2025/08/09 --organized
python -m src.markdown_cli batch --date 2025/08/10 --organized
python -m src.organizer_cli organize --copy --delete-original
python -m src.organizer_cli index
```

### ä¾‹2: éå»ãƒ‡ãƒ¼ã‚¿ã®è£œå®Œ
```bash
# ç‰¹å®šæœŸé–“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€æ‹¬å–å¾—
python -m src.fast_batch_cli full --start 2025/01/01 --end 2025/01/31 --delay 0.8 --max-workers 6
```

### ä¾‹3: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
```bash
# å½“æ—¥ã®ãƒ‡ãƒ¼ã‚¿ã‚’é«˜é€Ÿæ›´æ–°
TODAY=$(date +%Y/%m/%d)
python -m src.fast_batch_cli full --start $TODAY --delay 0.3 --max-workers 12
python -m src.integrator_cli batch --date $TODAY
python -m src.markdown_cli batch --date $TODAY --organized
```

## âš ï¸ æ³¨æ„äº‹é …

1. **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼**: temp â†’ integrated â†’ organized ã®é †åºã‚’å®ˆã‚‹
2. **æ—¥ä»˜å½¢å¼**: `YYYY-MM-DD`, `YYYY/MM/DD`, `YYYYMMDD` ã™ã¹ã¦å¯¾å¿œ
3. **tempãƒ•ã‚©ãƒ«ãƒ€**: `--delete-original`ã§è‡ªå‹•å‰Šé™¤ã•ã‚Œã‚‹
4. **race_idå½¢å¼**: å®Ÿéš›ã®é–‹å‚¬æ—¥ã§ã¯ãªãç«¶é¦¬ã®é–‹å‚¬å›æ¬¡ã§ç®¡ç†
   - ä¾‹: 202502070501 = 2025å¹´ç¬¬2å›æ–°æ½Ÿ7æ—¥ç›®ç¬¬1ãƒ¬ãƒ¼ã‚¹ï¼ˆå®Ÿéš›ã¯8æœˆ9æ—¥é–‹å‚¬ï¼‰

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼: æ—¥ä»˜å½¢å¼ãŒèªè­˜ã•ã‚Œãªã„
```bash
# ãƒã‚¤ãƒ•ãƒ³ã€ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã€æ•°å­—ã®ã¿ ã™ã¹ã¦å¯¾å¿œ
--start 2025-08-09  # OK
--start 2025/08/09  # OK
--start 20250809    # OK
```

### ã‚¨ãƒ©ãƒ¼: syoin/paddokãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ããªã„
```bash
# æ˜ç¤ºçš„ã«ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ã‚’æŒ‡å®š
python -m src.fast_batch_cli data --start 2025/08/09 --data-types syoin,paddok
```

### ã‚¨ãƒ©ãƒ¼: ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚‰ãªã„
```bash
# race_idsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
ls Z:/KEIBA-CICD/data/race_ids/

# æ—¥ç¨‹ãƒ‡ãƒ¼ã‚¿ã‚’å†å–å¾—
python -m src.fast_batch_cli schedule --start 2025-08-09
```

### ã‚¨ãƒ©ãƒ¼: çµ±åˆãƒ•ã‚¡ã‚¤ãƒ«ãŒç©º
```bash
# å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ãŒã‚ã‚‹ã‹ç¢ºèª
ls Z:/KEIBA-CICD/data/temp/*202508090101*

# ãƒ‡ãƒ¼ã‚¿ã‚’å†å–å¾—
python -m src.fast_batch_cli data --start 2025-08-09 --data-types seiseki,shutsuba,cyokyo,danwa,syoin,paddok
```

## ğŸ”„ æ›´æ–°å±¥æ­´

### æœ€æ–°ã®å¤‰æ›´ç‚¹
- tempãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæ¥­ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ã—ã¦ä½¿ç”¨
- å®Ÿéš›ã®é–‹å‚¬æ—¥ä»˜ï¼ˆ8/9, 8/10ï¼‰ã§organizedãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æ§‹æˆ
- syoinï¼ˆå‰èµ°ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ï¼‰ã¨paddokï¼ˆãƒ‘ãƒ‰ãƒƒã‚¯æƒ…å ±ï¼‰ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«è¿½åŠ 
- Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’organizedä»¥ä¸‹ã«ç›´æ¥å‡ºåŠ›å¯èƒ½
- race_infoè¦ç´ ã«race_idã‚’è¿½åŠ 
- å…ƒãƒ•ã‚¡ã‚¤ãƒ«è‡ªå‹•å‰Šé™¤ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æ”¹å–„