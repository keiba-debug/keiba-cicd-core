# KeibaCICD.WebViewer APIä»•æ§˜æ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
**æœ€çµ‚æ›´æ–°**: 2026-01-31
**ä½œæˆè€…**: ã‚«ã‚«ã‚·ï¼ˆAIç›¸è«‡å½¹ï¼‰+ Exploreã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

---

## ğŸ“Š æ¦‚è¦

KeibaCICD.WebViewerã¯8ã¤ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«ã‚ãŸã‚‹**34å€‹ã®APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ã‚’æä¾›ã—ã¾ã™ã€‚

### ä¸»è¦ãªç‰¹å¾´
- **Pythoné€£æº**: `target_reader.py`ç­‰ã‚’ä½¿ã£ãŸå¤–éƒ¨ãƒ—ãƒ­ã‚»ã‚¹å®Ÿè¡Œ
- **ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœªä½¿ç”¨ã€å…¨ã¦JSON/CSVãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†
- **SSEå¯¾å¿œ**: `/api/admin/execute`ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—é€šçŸ¥
- **ç’°å¢ƒå¤‰æ•°ä¾å­˜**:
  - `KEIBA_DATA_ROOT_DIR` â†’ ãƒ¬ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿æ ¹ï¼ˆ`E:\share\KEIBA-CICD\data2`ï¼‰
  - `JV_DATA_ROOT_DIR` â†’ JV-VANå½¢å¼ãƒ‡ãƒ¼ã‚¿æ ¹ï¼ˆ`E:\TFJV`ï¼‰
  - `PYTHON_PATH` â†’ Pythonå®Ÿè¡Œãƒ‘ã‚¹

### ã‚«ãƒ†ã‚´ãƒªåˆ†é¡
1. **ç®¡ç†ç”»é¢API (Admin)** - 5å€‹
2. **é¦¬å ´çŠ¶æ…‹API (Baba)** - 1å€‹
3. **è³‡é‡‘ç®¡ç†API (Bankroll)** - 10å€‹
4. **ãƒ‡ãƒãƒƒã‚°API (Debug)** - 3å€‹
5. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ¢API** - 5å€‹
6. **é¦¬é–¢é€£API** - 1å€‹
7. **ã‚ªãƒƒã‚ºAPI** - 4å€‹
8. **äºˆæƒ³ãƒ»è³¼å…¥API** - 4å€‹
9. **èª¿æ•™API** - 2å€‹

---

## ğŸ—‚ï¸ ã‚«ãƒ†ã‚´ãƒªåˆ¥APIä¸€è¦§

### ã‚«ãƒ†ã‚´ãƒªãƒ¼1: ç®¡ç†ç”»é¢API (Admin) - 5å€‹

#### POST /api/admin/execute
**æ¦‚è¦**: ç®¡ç†ç”»é¢ã‹ã‚‰ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œï¼ˆSSEã‚¹ãƒˆãƒªãƒ¼ãƒ ï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
```typescript
{
  action: ActionType, // calc_race_type_standards, calc_rating_standards, training_summaryç­‰
  date?: string,      // YYYY-MM-DDå½¢å¼ï¼ˆå˜ä¸€æ—¥ä»˜ï¼‰
  startDate?: string, // æ—¥ä»˜ç¯„å›²é–‹å§‹ï¼ˆisRangeAction=trueæ™‚ï¼‰
  endDate?: string,   // æ—¥ä»˜ç¯„å›²çµ‚äº†
  raceFrom?: number,  // ãƒ¬ãƒ¼ã‚¹ç•ªå·ç¯„å›²ï¼ˆé–‹å§‹ï¼‰
  raceTo?: number,    // ãƒ¬ãƒ¼ã‚¹ç•ªå·ç¯„å›²ï¼ˆçµ‚äº†ï¼‰
  track?: string      // ç«¶é¦¬å ´ãƒ•ã‚£ãƒ«ã‚¿
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**: SSE (Server-Sent Events) ã‚¹ãƒˆãƒªãƒ¼ãƒ 
```json
// ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ—
{ "type": "start", "data": { "action": "training_summary" } }
{ "type": "progress", "data": { "current": 50, "total": 100 } }
{ "type": "log", "data": { "level": "info", "message": "å‡¦ç†ä¸­..." } }
{ "type": "complete", "data": { "message": "å®Œäº†" } }
{ "type": "error", "data": { "message": "ã‚¨ãƒ©ãƒ¼" } }
```

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- `scripts/calculate_race_type_standards_jv.py` (TARGETãƒ‘ã‚¹å®Ÿè¡Œ)
- `scripts/calculate_rating_standards.py` (keibabookãƒ‘ã‚¹å®Ÿè¡Œ)
- `scripts/generate_training_summary.py`
- `scripts/horse_id_mapper.py`
- `scripts/build_trainer_index.py`

**å®Ÿè£…ã®ç‰¹å¾´**: Pythonãƒ—ãƒ­ã‚»ã‚¹å®Ÿè¡Œã§ãƒ­ã‚°ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€ä¿¡ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä»˜ã

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œã€å®šæœŸãƒãƒƒãƒå‡¦ç†ã®ç›£è¦–ã«æœ€é©ï¼ˆCOMMANDERã€KIBAå‘ã‘ï¼‰

---

#### GET /api/admin/rating-standards
**æ¦‚è¦**: ãƒ¬ã‚¤ãƒ†ã‚£ãƒ³ã‚°åŸºæº–å€¤ãƒ‡ãƒ¼ã‚¿å–å¾—

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: ãªã—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "by_grade": {
    "é«˜ã„": {
      "mean": 85.5,
      "std": 5.2,
      "percentiles": { "10": 75, "50": 85, "90": 95 }
    },
    "ä¸­": { ... }
  },
  "metadata": {
    "total_races": 1000,
    "years": "2023-2025",
    "last_updated": "2026-01-30"
  },
  "summary": {
    "totalGrades": 3,
    "totalRaces": 1000,
    "years": "2023-2025"
  }
}
```

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: `KeibaCICD.keibabook/data/rating_standards.json`

**å®Ÿè£…ã®ç‰¹å¾´**: ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒã‚§ãƒƒã‚¯å¾Œã«ãƒ¡ã‚¿æƒ…å ±è¿½åŠ 

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ANALYSTï¼ˆã²ãªãŸï¼‰ãŒãƒ¬ã‚¤ãƒ†ã‚£ãƒ³ã‚°åŸºæº–ã‚’å‚ç…§ã—ã¦åˆ†æ

---

#### POST /api/admin/rebuild-index
**æ¦‚è¦**: ãƒ¬ãƒ¼ã‚¹æ—¥ä»˜ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å†æ§‹ç¯‰ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: ãªã—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "message": "ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å†æ§‹ç¯‰å®Œäº†: 500ä»¶ã®æ—¥ä»˜",
  "dates": ["2026-01-31", "2026-01-30", "..."]
}
```

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: race-date-indexãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆ`lib/data/race-date-index.ts`ï¼‰

**å®Ÿè£…ã®ç‰¹å¾´**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ + å†æ§‹ç¯‰ + æ¤œè¨¼ã®3æ®µéšå‡¦ç†

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ãƒ‡ãƒ¼ã‚¿æ›´æ–°å¾Œã®æ•´åˆæ€§ç¢ºä¿ï¼ˆKIBAå‘ã‘ï¼‰

---

#### GET /api/admin/rpci-standards
**æ¦‚è¦**: RPCIåŸºæº–å€¤ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚³ãƒ¼ã‚¹åˆ¥ã‚ªãƒƒã‚ºçµ±è¨ˆï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `course`: ã‚³ãƒ¼ã‚¹åï¼ˆä¾‹: `Tokyo_Turf_2000m`ï¼‰
- `group`: è·é›¢ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆä¾‹: `Turf_1800-2200m`ï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "course": "Tokyo_Turf_2000m",
  "stats": {
    "mean": 12.5,
    "std": 3.2,
    "percentiles": { "10": 8.0, "50": 12.0, "90": 18.0 }
  },
  "similarCourses": ["Kyoto_Turf_2000m", "..."]
}
```

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: `KeibaCICD.TARGET/data/race_type_standards.json`

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ã‚·ãƒï¼ˆæœŸå¾…å€¤è¨ˆç®—ï¼‰ãŒã‚³ãƒ¼ã‚¹ç‰¹æ€§ã‚’åŠ å‘³ã—ãŸæœŸå¾…å€¤è¨ˆç®—

---

### ã‚«ãƒ†ã‚´ãƒªãƒ¼2: é¦¬å ´çŠ¶æ…‹API (Baba) - 1å€‹

#### POST /api/baba/update
**æ¦‚è¦**: é¦¬å ´çŠ¶æ…‹ï¼ˆã‚¯ãƒƒã‚·ãƒ§ãƒ³å€¤ãƒ»å«æ°´ç‡ï¼‰æ›´æ–°

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿** (JSON):
```typescript
{
  date: string,         // YYYY-MM-DD
  track: string,        // ç«¶é¦¬å ´åï¼ˆæ±äº¬ã€äº¬éƒ½ç­‰ï¼‰
  kai: number,          // å›æ¬¡
  nichi: number,        // æ—¥æ¬¡
  cushion?: number,     // ã‚¯ãƒƒã‚·ãƒ§ãƒ³å€¤ï¼ˆèŠã®ã¿ï¼‰
  moistureGTurf?: number,   // å«æ°´ç‡ã‚´ãƒ¼ãƒ«å‰ï¼ˆèŠï¼‰
  moistureGDirt?: number,   // å«æ°´ç‡ã‚´ãƒ¼ãƒ«å‰ï¼ˆãƒ€ãƒ¼ãƒˆï¼‰
  moisture4Turf?: number,   // å«æ°´ç‡4ã‚³ãƒ¼ãƒŠãƒ¼ï¼ˆèŠï¼‰
  moisture4Dirt?: number    // å«æ°´ç‡4ã‚³ãƒ¼ãƒŠãƒ¼ï¼ˆãƒ€ãƒ¼ãƒˆï¼‰
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "ok": true,
  "rxIdBase": "RX05261201",
  "results": {
    "cushion": { "updated": 5, "added": 7 },
    "moistureG": { "updated": 3, "added": 5 },
    "moisture4": { "updated": 3, "added": 5 }
  }
}
```

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- `E:/TFJV/_BABA/cushionYYYY.csv`
- `E:/TFJV/_BABA/moistureG_YYYY.csv`
- `E:/TFJV/_BABA/moisture4_YYYY.csv`

**å®Ÿè£…ã®ç‰¹å¾´**: CSVæ›´æ–°ï¼ˆæ—¢å­˜è¡Œæ›´æ–° + æ–°è¦è¡Œè¿½åŠ ï¼‰ã€RX_IDå½¢å¼ã§ã®ç®¡ç†

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ARTETAï¼ˆMLäºˆæƒ³ï¼‰ãŒé¦¬å ´çŠ¶æ…‹ã‚’å…¥åŠ›å¤‰æ•°ã¨ã—ã¦ä½¿ç”¨

---

### ã‚«ãƒ†ã‚´ãƒªãƒ¼3: è³‡é‡‘ç®¡ç†API (Bankroll) - 10å€‹

#### GET /api/bankroll/alerts
**æ¦‚è¦**: äºˆç®—é–¢é€£ã‚¢ãƒ©ãƒ¼ãƒˆå–å¾—

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: ãªã—ï¼ˆç¾åœ¨æ—¥ä»˜ãƒ™ãƒ¼ã‚¹ï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "alerts": [
    {
      "type": "warning",
      "message": "æ®‹ã‚Šäºˆç®—ãŒå°‘ãªã„ï¼ˆ800å††ï¼‰",
      "severity": "high"
    },
    {
      "type": "info",
      "message": "5é€£æ•—ä¸­ã§ã™",
      "severity": "medium"
    }
  ],
  "dailyLimit": 5000,
  "raceLimit": 2000,
  "remaining": 800
}
```

**Pythoné€£æº**: `target_reader.py --year 2026 --month 1 --stats`

**ãƒã‚§ãƒƒã‚¯é …ç›®**:
1. æ®‹ã‚Šäºˆç®—ï¼ˆ20%æœªæº€ã§è­¦å‘Šï¼‰
2. é€£æ•—çŠ¶æ³ï¼ˆ5é€£æ•—ã§è­¦å‘Šã€10é€£æ•—ã§å±é™ºï¼‰
3. å½“æ—¥ä½¿ç”¨ç‡ï¼ˆ80%ä»¥ä¸Šã§è­¦å‘Šï¼‰

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: GUARDIANï¼ˆãƒªã‚¹ã‚¯ç®¡ç†ï¼‰ãŒè‡ªå‹•ç›£è¦–

---

#### GET /api/bankroll/allocation
**æ¦‚è¦**: è³‡é‡‘é…åˆ†ã‚¬ã‚¤ãƒ‰ï¼ˆé¦¬åˆ¸ç¨®åˆ¥å›åç‡ã«åŸºã¥ãé…åˆ†æ¨å¥¨ï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `year`: å¹´ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ç¾åœ¨å¹´ï¼‰
- `month`: æœˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ç¾åœ¨æœˆï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "allocation": [
    {
      "betType": "win",
      "percentage": 40,
      "recoveryRate": 120,
      "recommendation": "å¥½èª¿"
    },
    {
      "betType": "place",
      "percentage": 30,
      "recoveryRate": 85,
      "recommendation": "æ§ãˆã‚ã«"
    }
  ],
  "totalAmount": 10000
}
```

**Pythoné€£æº**: `target_reader.py --stats`

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ã‚·ã‚«ãƒãƒ«ï¼ˆè³¼å…¥æˆ¦ç•¥ï¼‰ãŒé…åˆ†æœ€é©åŒ–

---

#### POST /api/bankroll/check
**æ¦‚è¦**: è³¼å…¥å‰ãƒã‚§ãƒƒã‚¯ï¼ˆäºˆç®—ä¸Šé™ãƒã‚§ãƒƒã‚¯ + å›åç‡è­¦å‘Šï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
```typescript
{
  betType: string,  // "win" | "place" | "exacta" ç­‰
  amount: number    // è³¼å…¥äºˆå®šé‡‘é¡
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "canBet": true,
  "warnings": ["ä¸‰é€£å˜ã¯å›åç‡50%ã§ã™ã€‚æ…é‡ã«æ¤œè¨ã—ã¦ãã ã•ã„"],
  "errors": [],
  "limits": {
    "dailyLimit": 5000,
    "raceLimit": 2000,
    "remaining": 3500
  }
}
```

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ã‚·ãƒï¼ˆæœŸå¾…å€¤è¨ˆç®—ï¼‰ãŒè³¼å…¥å‰ã«è‡ªå‹•ãƒã‚§ãƒƒã‚¯

---

#### GET /api/bankroll/collection
**æ¦‚è¦**: çš„ä¸­é¦¬åˆ¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆç›´è¿‘6ãƒ¶æœˆã€é«˜é…å½“è¨˜éŒ²ï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: ãªã—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "tickets": [
    {
      "date": "2026-01-30",
      "race_name": "æ±äº¬11R",
      "bet_type": "win",
      "payout": 15000,
      "odds": 5.0,
      "profit": 13000,
      "isManba": false
    }
  ],
  "stats": {
    "total_wins": 120,
    "total_profit": 450000,
    "manba_count": 5,
    "highest_payout": 125000
  }
}
```

**Pythoné€£æº**: ç›´è¿‘6ãƒ¶æœˆåˆ†ã‚’æœˆã”ã¨å–å¾—ã—ã¦é›†è¨ˆ

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ãµãã å›ã¸ã®ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³æä¾›ã€LEARNERï¼ˆç¶™ç¶šå­¦ç¿’ï¼‰ãŒæˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ

---

#### GET/POST /api/bankroll/config
**æ¦‚è¦**: äºˆç®—è¨­å®šç®¡ç†ï¼ˆGETå–å¾—ã€POSTæ›´æ–°ï¼‰

**GET ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "total_bankroll": 50000,
  "daily_limit_percent": 10,
  "race_limit_percent": 4,
  "stop_loss_percent": 20
}
```

**POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "total_bankroll": 50000,
  "daily_limit_percent": 10,
  "race_limit_percent": 4
}
```

**ãƒ•ã‚¡ã‚¤ãƒ«**: `keiba-ai/data/bankroll/config.json`

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: INVESTORï¼ˆæŠ•è³‡åˆ¤æ–­ï¼‰ãŒè¨­å®šã«åŸºã¥ã„ã¦åˆ¤æ–­

---

#### GET /api/bankroll/daily/[date]
**æ¦‚è¦**: æ—¥åˆ¥è©³ç´°ï¼ˆTARGETè³¼å…¥ãƒ‡ãƒ¼ã‚¿ + race_info + integrated_*.jsonçµ±åˆï¼‰

**ãƒ‘ã‚¹**: `/api/bankroll/daily/20260125`

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: `date` (ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€8æ¡YYYYMMDD)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "date": "20260125",
  "races": [
    {
      "race_id": "2026012505010101",
      "track": "ä¸­å±±",
      "race_number": 1,
      "start_time": "10:05",
      "bet_type": "win",
      "amount": 3000,
      "result": "çš„ä¸­",
      "payout": 4500,
      "profit": 1500
    }
  ],
  "summary": {
    "total_bet": 15000,
    "total_payout": 18000,
    "profit": 3000,
    "recovery_rate": 120
  }
}
```

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**:
- `target_reader.py --date YYYYMMDD`
- `races/YYYY/MM/DD/race_info.json`
- `races/YYYY/MM/DD/temp/integrated_*.json`

**å®Ÿè£…ã®ç‰¹å¾´**: ãƒ¬ãƒ¼ã‚¹ã‚’ç™ºèµ°æ™‚åˆ»é †ã«ã‚½ãƒ¼ãƒˆ

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ã‚µã‚¤ï¼ˆå®Ÿè¡Œè¨˜éŒ²ï¼‰ãŒæ—¥åˆ¥æˆç¸¾ã‚’è¨˜éŒ²ãƒ»åˆ†æ

---

#### GET/POST /api/bankroll/fund
**æ¦‚è¦**: è³‡é‡‘å±¥æ­´ç®¡ç†ï¼ˆå…¥é‡‘/å‡ºé‡‘/ç«¶é¦¬åæ”¯åŒæœŸï¼‰

**GET ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "current_balance": 45000,
  "history": [
    {
      "date": "2026-01-31",
      "type": "deposit",
      "amount": 10000,
      "balance_after": 55000,
      "note": "åˆæœŸå…¥é‡‘"
    },
    {
      "date": "2026-01-31",
      "type": "betting_result",
      "amount": -10000,
      "balance_after": 45000,
      "note": "1æœˆç«¶é¦¬åæ”¯"
    }
  ]
}
```

**POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```typescript
// å…¥é‡‘ãƒ»å‡ºé‡‘
{ type: "deposit" | "withdraw", amount: number, note?: string }

// ç«¶é¦¬åæ”¯åŒæœŸ
{ action: "sync_betting", year: number, month: number }
```

**ãƒ•ã‚¡ã‚¤ãƒ«**: `keiba-ai/data/bankroll/fund_history.json`

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: INVESTORï¼ˆæŠ•è³‡åˆ¤æ–­ï¼‰ãŒè³‡é‡‘çŠ¶æ³ã‚’ç›£è¦–

---

#### GET/POST/PUT/DELETE /api/bankroll/plans
**æ¦‚è¦**: è³¼å…¥äºˆå®šç®¡ç†ï¼ˆCRUDæ“ä½œï¼‰

**GET ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: `date=20260131` (8æ¡)

**GET ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "plans": [
    {
      "id": "plan_123456789",
      "raceId": "2026013105010101",
      "betType": "win",
      "selection": "1",
      "amount": 3000,
      "confidence": "é«˜",
      "expectedValue": 750,
      "status": "pending",
      "createdAt": "2026-01-31T09:00:00Z"
    }
  ]
}
```

**POST/PUT ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```typescript
{
  raceId: string,
  betType: string,
  selection: string,
  amount: number,
  confidence: "é«˜" | "ä¸­" | "ä½",
  expectedValue?: number
}
```

**DELETE**: ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ `id=plan_123456789`

**ãƒ•ã‚¡ã‚¤ãƒ«**: `keiba-ai/data/bankroll/plans/{date}.json`

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ã‚·ã‚«ãƒãƒ«ï¼ˆè³¼å…¥æˆ¦ç•¥ï¼‰ãŒè³¼å…¥äºˆå®šã‚’ç®¡ç†ã€ã‚·ãƒï¼ˆæœŸå¾…å€¤è¨ˆç®—ï¼‰ãŒæœŸå¾…å€¤ã‚’è¨ˆç®—

---

#### GET /api/bankroll/stats
**æ¦‚è¦**: é¦¬åˆ¸ç¨®åˆ¥çµ±è¨ˆï¼ˆæœŸé–“é›†è¨ˆï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `period=3months|6months|1year` ã¾ãŸã¯
- `year=2026&month=1`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "period": "2025-11-01 ~ 2026-01-31",
  "byBetType": {
    "win": {
      "count": 150,
      "total_bet": 450000,
      "total_payout": 540000,
      "recovery_rate": 120,
      "hit_rate": 35
    },
    "place": { ... }
  },
  "overall": {
    "total_bet": 1000000,
    "total_payout": 950000,
    "profit": -50000,
    "recovery_rate": 95
  }
}
```

**Pythoné€£æº**: è¤‡æ•°æœˆãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦é›†è¨ˆ

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ANALYSTï¼ˆã²ãªãŸï¼‰ãŒé¦¬åˆ¸ç¨®åˆ¥ã®å‚¾å‘åˆ†æ

---

#### GET /api/bankroll/summary
**æ¦‚è¦**: åæ”¯ã‚µãƒãƒªãƒ¼ï¼ˆæ—¥åˆ¥/æœˆåˆ¥ï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `date=20260125` (æ—¥åˆ¥) ã¾ãŸã¯
- `year=2026&month=1` (æœˆåˆ¥)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (æ—¥åˆ¥):
```json
{
  "date": "20260125",
  "total_bet": 15000,
  "total_payout": 18000,
  "profit": 3000,
  "recovery_rate": 120,
  "races": [ ... ]
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (æœˆåˆ¥):
```json
{
  "year": 2026,
  "month": 1,
  "total_bet": 150000,
  "total_payout": 135000,
  "profit": -15000,
  "recovery_rate": 90,
  "daily_breakdown": [ ... ]
}
```

**Pythoné€£æº**: `target_reader.py --date` ã¾ãŸã¯ `--year/--month`

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ã‚µã‚¤ï¼ˆå®Ÿè¡Œè¨˜éŒ²ï¼‰ã€ANALYSTï¼ˆã²ãªãŸï¼‰ãŒåæ”¯ã‚’ç¢ºèª

---

### ã‚«ãƒ†ã‚´ãƒªãƒ¼4: ãƒ‡ãƒãƒƒã‚°API (Debug) - 3å€‹

#### GET /api/debug/baba
**æ¦‚è¦**: é¦¬å ´ãƒ‡ãƒ¼ã‚¿(BABA)ãƒ‡ãƒãƒƒã‚°ï¼ˆãƒ‘ã‚¹ç¢ºèªã€RX_IDæ¤œè¨¼ï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `date=2026-01-25`
- `track=äº¬éƒ½`
- `raceId=2026012505010101`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "diagnostics": {
    "files": {
      "cushion": { "exists": true, "path": "E:/TFJV/_BABA/cushion2026.csv" },
      "moistureG": { "exists": true, ... }
    },
    "rxIdCandidates": ["RX05261201", "RX05261202"],
    "cache": { "size": 150, "lastUpdate": "2026-01-31T10:00:00Z" }
  },
  "data": { ... }
}
```

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

---

#### GET /api/debug/training
**æ¦‚è¦**: èª¿æ•™ãƒ‡ãƒ¼ã‚¿ãƒ‡ãƒãƒƒã‚°ï¼ˆCK_DATAã‚¢ã‚¯ã‚»ã‚¹ç¢ºèªï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `date=YYYYMMDD` (èª¿æ•™æ—¥)
- `action=dates` (åˆ©ç”¨å¯èƒ½æ—¥ä»˜ä¸€è¦§)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (æ—¥ä»˜æŒ‡å®šæ™‚):
```json
{
  "date": "20260125",
  "recordCount": 150,
  "sampleRecords": [
    {
      "horseName": "ãƒ‰ã‚¦ãƒ‡ãƒ¥ãƒ¼ã‚¹",
      "lapTime": "12.5ç§’",
      "speedClass": "A"
    }
  ],
  "stats": {
    "totalHorses": 150,
    "avgLapTime": 13.2
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (action=dates):
```json
{
  "availableDates": ["20260131", "20260130", "..."],
  "count": 365
}
```

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ARTETAï¼ˆMLäºˆæƒ³ï¼‰ãŒèª¿æ•™ãƒ‡ãƒ¼ã‚¿å–å¾—ç¢ºèª

---

#### GET /api/debug/umdata
**æ¦‚è¦**: UM_DATA (é¦¬ãƒã‚¹ã‚¿) ãƒ‡ãƒãƒƒã‚°ï¼ˆè¡€çµ±ç™»éŒ²ç•ªå·ãƒ»é¦¬åæ¤œç´¢ï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `ketto=2019103487` (è¡€çµ±ç™»éŒ²ç•ªå·)
- `name=ãƒ‰ã‚¦ãƒ‡ãƒ¥ãƒ¼ã‚¹` (é¦¬å)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "search": { "ketto": "2019103487", "name": "ãƒ‰ã‚¦ãƒ‡ãƒ¥ãƒ¼ã‚¹" },
  "result": {
    "horseName": "ãƒ‰ã‚¦ãƒ‡ãƒ¥ãƒ¼ã‚¹",
    "ketto": "2019103487",
    "birthYear": 2019,
    "sex": "ç‰¡",
    "coat": "é¹¿æ¯›",
    "sire": "ãƒãƒ¼ãƒ„ã‚¯ãƒ©ã‚¤",
    "dam": "ãƒ€ã‚¹ãƒˆã‚¢ãƒ³ãƒ‰ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ã‚º",
    "trainer": "å‹é“åº·å¤«",
    "owner": "ã‚­ãƒ£ãƒ­ãƒƒãƒˆãƒ•ã‚¡ãƒ¼ãƒ "
  },
  "raw": { ... }
}
```

**å®Ÿè£…**: ãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«è§£æï¼ˆShift_JISã€å›ºå®šé•·ãƒ¬ã‚³ãƒ¼ãƒ‰ 1609ãƒã‚¤ãƒˆï¼‰

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: é¦¬ãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ç¢ºèª

---

### ã‚«ãƒ†ã‚´ãƒªãƒ¼5: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ¢API - 5å€‹

#### GET/POST /api/horse-memo
**æ¦‚è¦**: é¦¬ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ãƒ¢

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: `horseId=XXXXXXX`

**GET ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "horseId": "XXXXXXX",
  "memo": "èª¿æ•™ãŒè‰¯å¥½ã€‚æ¬¡èµ°æ³¨ç›®",
  "updatedAt": "2026-01-31T10:00:00Z"
}
```

**POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "horseId": "XXXXXXX",
  "memo": "èª¿æ•™ãŒè‰¯å¥½ã€‚æ¬¡èµ°æ³¨ç›®"
}
```

**å®Ÿè£…**: `lib/data/horse-memo`

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ANALYSTï¼ˆã²ãªãŸï¼‰ãŒåˆ†æçµæœã‚’ä¿å­˜ã€ãµãã å›ã¸ã®æƒ…å ±å…±æœ‰

---

#### GET/POST /api/memos/[raceId]
**æ¦‚è¦**: ãƒ¬ãƒ¼ã‚¹ãƒ¡ãƒ¢ï¼ˆäºˆæƒ³å‰/çµæœå¾Œï¼‰

**ãƒ‘ã‚¹**: `/api/memos/2026013105010101?date=2026-01-31`

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `raceId` (ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿)
- `date` (ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€YYYY-MM-DD)

**GET ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "pre": {
    "memo": "ãƒšãƒ¼ã‚¹é€Ÿããªã‚Šãã†",
    "createdAt": "2026-01-31T08:00:00Z"
  },
  "post": {
    "memo": "äºˆæƒ³é€šã‚Šã®ãƒ¬ãƒ¼ã‚¹å±•é–‹",
    "createdAt": "2026-01-31T16:00:00Z"
  }
}
```

**POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "type": "pre" | "post",
  "memo": "ãƒ¡ãƒ¢å†…å®¹"
}
```

**ãƒ•ã‚¡ã‚¤ãƒ«**: `data2/userdata/memos/YYYY-MM-DD/{raceId}.json`

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ANALYSTï¼ˆã²ãªãŸï¼‰ãŒåˆ†æçµæœã‚’è¨˜éŒ²ã€LEARNERï¼ˆãƒŠãƒ«ãƒˆï¼‰ãŒæŒ¯ã‚Šè¿”ã‚Šå­¦ç¿’

---

#### GET/POST /api/notes
**æ¦‚è¦**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ¢ï¼ˆãƒ¬ãƒ¼ã‚¹/é¦¬åˆ¥ï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `date` (YYYY-MM-DD)
- `raceId` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)

**GET ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "notes": [
    {
      "date": "2026-01-31",
      "raceId": "2026013105010101",
      "raceMemo": "æœ‰åŠ›é¦¬å¤šæ•°",
      "horses": {
        "1": "èª¿æ•™è‰¯å¥½",
        "2": "å‰èµ°å¥½èµ°"
      }
    }
  ]
}
```

**POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "date": "2026-01-31",
  "raceId": "2026013105010101",
  "raceMemo": "æœ‰åŠ›é¦¬å¤šæ•°",
  "horseNumber": 1,
  "horseMemo": "èª¿æ•™è‰¯å¥½"
}
```

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: å„AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒåˆ†æçµæœã‚’å…±æœ‰

---

#### GET/POST /api/start-memo
**æ¦‚è¦**: ã‚¹ã‚¿ãƒ¼ãƒˆãƒ¡ãƒ¢ï¼ˆé¦¬ã®çŠ¶æ…‹/å°è±¡ï¼‰

**GET ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `raceId` (ãƒ¬ãƒ¼ã‚¹æŒ‡å®š)
- `presets=true` (ãƒ—ãƒªã‚»ãƒƒãƒˆä¸€è¦§å–å¾—)

**GET ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (ãƒ—ãƒªã‚»ãƒƒãƒˆ):
```json
{
  "presets": ["å‡ºé…ã‚Œ", "å¥½ã‚¹ã‚¿ãƒ¼ãƒˆ", "ä¸åˆ©ãªã—", "æŒŸã¾ã‚Œ", "...]
}
```

**GET ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (ãƒ¬ãƒ¼ã‚¹æŒ‡å®š):
```json
{
  "raceId": "2026013105010101",
  "memos": {
    "1": "å¥½ã‚¹ã‚¿ãƒ¼ãƒˆ",
    "2": "å‡ºé…ã‚Œ"
  }
}
```

**POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "raceId": "2026013105010101",
  "horseNumber": 1,
  "memo": "å¥½ã‚¹ã‚¿ãƒ¼ãƒˆ"
}
```

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: LEARNERï¼ˆãƒŠãƒ«ãƒˆï¼‰ãŒã‚¹ã‚¿ãƒ¼ãƒˆçŠ¶æ³ã¨çµæœã®ç›¸é–¢åˆ†æ

---

#### POST /api/target-comments
**æ¦‚è¦**: TARGETã‚³ãƒ¡ãƒ³ãƒˆä¿å­˜ï¼ˆãƒ¬ãƒ¼ã‚¹ãƒ»é¦¬åˆ¥ï¼‰

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆå‹**:
```typescript
// ãƒ¬ãƒ¼ã‚¹å˜ä½
{
  type: "race",
  commentType: "prediction" | "result",
  venue: "æ±äº¬",
  kai: 1,
  nichi: 5,
  raceNumber: 1,
  comment: "èª¿æ•™ãŒè‰¯å¥½"
}

// é¦¬å˜ä½
{
  type: "horse",
  commentType: "prediction" | "result",
  venue: "æ±äº¬",
  kai: 1,
  nichi: 5,
  raceNumber: 1,
  umaban: 1,
  comment: "å‰èµ°å¥½èµ°"
}

// ãƒ¬ãƒ¼ã‚¹ä¸€æ‹¬
{
  type: "race_batch",
  commentType: "prediction",
  venue: "æ±äº¬",
  kai: 1,
  nichi: 5,
  comments: {
    "1": "æœ‰åŠ›",
    "2": "æ³¨ç›®"
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "file": "E:\\TFJV\\COMDATA\\CRE2024051205.cre",
  "message": "ã‚³ãƒ¡ãƒ³ãƒˆä¿å­˜å®Œäº†"
}
```

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: å„AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®åˆ†æçµæœã‚’TARGETã«åæ˜ 

---

### ã‚«ãƒ†ã‚´ãƒªãƒ¼6: é¦¬é–¢é€£API - 1å€‹

#### GET /api/horses/search
**æ¦‚è¦**: é¦¬åæ¤œç´¢

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: `q=é¦¬åã®ä¸€éƒ¨`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "horses": [
    {
      "id": "XXXXXXX",
      "name": "ãƒ‰ã‚¦ãƒ‡ãƒ¥ãƒ¼ã‚¹",
      "ketto": "2019103487"
    }
  ]
}
```

**å®Ÿè£…**: `lib/data/searchHorses()`

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ANALYSTï¼ˆã²ãªãŸï¼‰ã€ARTETAï¼ˆã‚¢ãƒ«ãƒ†ã‚¿ï¼‰ãŒé¦¬æƒ…å ±å–å¾—

---

### ã‚«ãƒ†ã‚´ãƒªãƒ¼7: ã‚ªãƒƒã‚ºAPI - 4å€‹

#### GET /api/odds/ji-timeseries
**æ¦‚è¦**: JI_2026 (å˜å‹æ™‚ç³»åˆ—ã‚ªãƒƒã‚º) å–å¾—

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: `raceId=2026013105010101` (16æ¡)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "horses": [
    {
      "umaban": "1",
      "horseName": "ãƒ‰ã‚¦ãƒ‡ãƒ¥ãƒ¼ã‚¹",
      "firstOdds": 3.5,
      "latestOdds": 3.0,
      "change": -0.5,
      "changePercent": -14.3,
      "trend": "down",
      "lastMinute": {
        "change": -0.2,
        "trend": "down"
      }
    }
  ],
  "timeSeries": [
    {
      "timeLabel": "08:50",
      "odds": {
        "1": 3.2,
        "2": 5.0
      }
    }
  ],
  "snapshotCount": 245,
  "source": "JI_2026"
}
```

**ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹**: `JV_DATA_ROOT_DIR/JI_2026` (JV-VAN RT_DATAå½¢å¼)

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ã‚·ãƒï¼ˆæœŸå¾…å€¤è¨ˆç®—ï¼‰ãŒã‚ªãƒƒã‚ºå¤‰å‹•ã‹ã‚‰æœŸå¾…å€¤ã‚’è¨ˆç®—

---

#### GET /api/odds/list
**æ¦‚è¦**: æŒ‡å®šæ—¥ã®ã‚ªãƒƒã‚ºã‚ã‚‹ãƒ¬ãƒ¼ã‚¹ä¸€è¦§

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: `date=20260131` (8æ¡)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "raceIds": [
    "2026013105010101",
    "2026013105010102",
    "..."
  ],
  "count": 45
}
```

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: KIBAï¼ˆãƒ‡ãƒ¼ã‚¿è¿½è·¡ï¼‰ãŒå½“æ—¥ã®ãƒ¬ãƒ¼ã‚¹ä¸€è¦§ã‚’å–å¾—

---

#### GET /api/odds/race
**æ¦‚è¦**: ãƒ¬ãƒ¼ã‚¹ã‚ªãƒƒã‚º + é¦¬æƒ…å ± + åˆ†æ

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `raceId=2026013105010101` ã¾ãŸã¯
- `date=2026-01-31&track=æ±äº¬&raceNumber=1`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "horses": [
    {
      "umaban": "1",
      "horseName": "ãƒ‰ã‚¦ãƒ‡ãƒ¥ãƒ¼ã‚¹",
      "waku": 1,
      "odds": 3.0,
      "oddsTrend": "up",
      "oddsChange": 0.5,
      "popularity": 1
    }
  ],
  "analysis": {
    "pattern": "favorite_down",
    "details": "1ç•ªäººæ°—ãŒ0.5ãƒã‚¤ãƒ³ãƒˆä¸‹è½",
    "recommendations": ["1ç•ªäººæ°—ã®æ”¯æŒãŒå¼·ã¾ã£ã¦ã„ã‚‹"]
  },
  "keibabookRaceId": "202601313105010101",
  "timeSeriesSummary": {
    "source": "JI",
    "snapshotCount": 100,
    "firstSnapshot": "08:00",
    "latestSnapshot": "10:00"
  }
}
```

**å®Ÿè£…ã®ç‰¹å¾´**: JI_2026å„ªå…ˆã€RTãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ANALYSTï¼ˆã²ãªãŸï¼‰ãŒã‚ªãƒƒã‚ºãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æã€ã‚·ãƒï¼ˆæœŸå¾…å€¤è¨ˆç®—ï¼‰ãŒæœŸå¾…å€¤è¨ˆç®—

---

#### GET /api/odds/timeseries
**æ¦‚è¦**: RT_DATA æ™‚ç³»åˆ—ã‚ªãƒƒã‚º + å¤‰å‹•åˆ†æ

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: `raceId=2026013105010101`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "timeSeries": [
    {
      "timeLabel": "08:50",
      "odds": { "1": 3.2, "2": 5.0 }
    }
  ],
  "changes": [
    {
      "umaban": "1",
      "trend": "up",
      "change": 0.5,
      "changePercent": 20,
      "firstOdds": 5.0,
      "latestOdds": 5.5
    }
  ],
  "snapshotCount": 150
}
```

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ANALYSTï¼ˆã²ãªãŸï¼‰ãŒã‚ªãƒƒã‚ºå¤‰å‹•ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ

---

### ã‚«ãƒ†ã‚´ãƒªãƒ¼8: äºˆæƒ³ãƒ»è³¼å…¥API - 4å€‹

#### GET/POST/DELETE /api/predictions/[date]/[raceId]
**æ¦‚è¦**: äºˆæƒ³ç®¡ç†ï¼ˆCRUDï¼‰

**ãƒ‘ã‚¹**: `/api/predictions/20260131/2026013105010101`

**GET ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "marks": {
    "1": "â—",
    "2": "â—‹",
    "3": "â–²",
    "4": "â–³",
    "5": "Ã—"
  },
  "scores": {
    "1": 95,
    "2": 85,
    "3": 75
  },
  "confidence": "é«˜",
  "status": "confirmed",
  "createdAt": "2026-01-31T08:00:00Z",
  "updatedAt": "2026-01-31T09:00:00Z"
}
```

**POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "marks": { "1": "â—", "2": "â—‹" },
  "scores": { "1": 95, "2": 85 },
  "confidence": "é«˜",
  "status": "draft"
}
```

**DELETE**: äºˆæƒ³å‰Šé™¤

**ãƒ•ã‚¡ã‚¤ãƒ«**: `keiba-ai/data/predictions/{date}/{raceId}.json`

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ANALYSTï¼ˆã²ãªãŸï¼‰ã€ARTETAï¼ˆã‚¢ãƒ«ãƒ†ã‚¿ï¼‰ãŒäºˆæƒ³ã‚’ä¿å­˜

---

#### GET/POST/PUT/DELETE /api/purchases/[date]
**æ¦‚è¦**: è³¼å…¥ç®¡ç†ï¼ˆCRUDï¼‰

**ãƒ‘ã‚¹**: `/api/purchases/20260131`

**GET ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "purchases": [
    {
      "id": "20260131_16707200xx",
      "race_id": "2026013105010101",
      "bet_type": "win",
      "selection": "1",
      "amount": 3000,
      "odds": 5.0,
      "expected_value": 750,
      "status": "purchased",
      "createdAt": "2026-01-31T09:00:00Z"
    }
  ]
}
```

**POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:
```json
{
  "race_id": "2026013105010101",
  "bet_type": "win",
  "selection": "1",
  "amount": 3000,
  "odds": 5.0,
  "expected_value": 750
}
```

**PUT ãƒªã‚¯ã‚¨ã‚¹ãƒˆ** (ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°):
```json
{
  "id": "20260131_16707200xx",
  "status": "result_win",
  "payout": 15000
}
```

**DELETE**: è³¼å…¥å‰Šé™¤ `id=20260131_16707200xx`

**ãƒ•ã‚¡ã‚¤ãƒ«**: `keiba-ai/data/purchases/{date}.json`

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ã‚·ãƒï¼ˆæœŸå¾…å€¤è¨ˆç®—ï¼‰ã€ã‚·ã‚«ãƒãƒ«ï¼ˆè³¼å…¥æˆ¦ç•¥ï¼‰ã€ã‚µã‚¤ï¼ˆå®Ÿè¡Œè¨˜éŒ²ï¼‰ãŒè³¼å…¥è¨˜éŒ²ã‚’ç®¡ç†

---

#### GET /api/race-dates
**æ¦‚è¦**: ç«¶é¦¬é–‹å‚¬æ—¥ä¸€è¦§ï¼ˆrace_info.jsonå­˜åœ¨æ—¥ï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: ãªã—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "dates": [
    "2026-01-31",
    "2026-01-25",
    "2026-01-18",
    "..."
  ],
  "count": 123
}
```

**å®Ÿè£…**: race-date-indexãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½¿ç”¨ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ä»˜ãï¼‰

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: KIBAï¼ˆãƒ‡ãƒ¼ã‚¿è¿½è·¡ï¼‰ãŒé–‹å‚¬æ—¥ä¸€è¦§ã‚’å–å¾—

---

#### GET/POST /api/race-lookup
**æ¦‚è¦**: ãƒ¬ãƒ¼ã‚¹æ¤œç´¢ï¼ˆå˜ä¸€/ä¸€æ‹¬ï¼‰

**GET ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `date=2026/01/31&track=æ±äº¬` (ãã®æ—¥ã®å…¨ãƒ¬ãƒ¼ã‚¹)
- `date=2026/01/31&track=æ±äº¬&raceNumber=1` (ç‰¹å®šãƒ¬ãƒ¼ã‚¹)
- `raceName=å¤©çš‡è³`

**GET ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "races": [
    {
      "race_id": "2026013105010101",
      "track": "æ±äº¬",
      "race_number": 1,
      "race_name": "2æ­³æœªå‹åˆ©",
      "start_time": "10:05",
      "distance": 1600,
      "surface": "èŠ"
    }
  ]
}
```

**POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆ** (ä¸€æ‹¬æ¤œç´¢):
```json
{
  "queries": [
    { "date": "2026/01/31", "track": "æ±äº¬", "raceName": "å¤©çš‡è³" },
    { "date": "2026/01/31", "track": "äº¬éƒ½" }
  ]
}
```

**POST ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "results": [
    { "query": {...}, "races": [...] }
  ]
}
```

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ANALYSTï¼ˆã²ãªãŸï¼‰ãŒãƒ¬ãƒ¼ã‚¹æ¤œç´¢ã€ARTETAï¼ˆã‚¢ãƒ«ãƒ†ã‚¿ï¼‰ãŒå­¦ç¿’ãƒ‡ãƒ¼ã‚¿å–å¾—

---

### ã‚«ãƒ†ã‚´ãƒªãƒ¼9: èª¿æ•™API - 2å€‹

#### POST /api/training/save
**æ¦‚è¦**: èª¿æ•™ã‚µãƒãƒªãƒ¼ç”Ÿæˆãƒ»ä¿å­˜

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: `date=YYYYMMDD` (POST/GETä¸¡å¯¾å¿œ)

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
1. CK_DATAèª­ã¿è¾¼ã¿ï¼ˆE:/TFJV/CK/CK_YYYYMMDD.txtï¼‰
2. é¦¬åˆ¥èª¿æ•™ã‚µãƒãƒªãƒ¼ç”Ÿæˆï¼ˆãƒ©ãƒƒãƒ—ã‚¿ã‚¤ãƒ ã€ã‚¹ãƒ”ãƒ¼ãƒ‰åˆ†é¡ã€æœ¬æ•°è©•ä¾¡ï¼‰
3. `races/YYYY/MM/DD/temp/training_summary.json` ã«ä¿å­˜

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:
```json
{
  "success": true,
  "count": 150,
  "path": "E:/share/KEIBA-CICD/data2/races/2026/01/31/temp/training_summary.json"
}
```

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: COMMANDERï¼ˆãƒ™ãƒ³ã‚²ãƒ«ï¼‰ãŒå®šæœŸå®Ÿè¡Œã€ARTETAï¼ˆã‚¢ãƒ«ãƒ†ã‚¿ï¼‰ãŒå­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã«ä½¿ç”¨

---

#### GET /api/training/summary
**æ¦‚è¦**: èª¿æ•™ã‚µãƒãƒªãƒ¼å–å¾—ï¼ˆJSON/TSVï¼‰

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
- `date=YYYYMMDD`
- `format=json|tsv` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: json)

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹** (JSON):
```json
{
  "date": "20260131",
  "summaries": [
    {
      "horseName": "ãƒ‰ã‚¦ãƒ‡ãƒ¥ãƒ¼ã‚¹",
      "lapClass": "S",
      "timeClass": "A",
      "lapTime": "12.5",
      "speed4f": "50.0",
      "remarks": "èª¿æ•™å……å®Ÿ"
    }
  ],
  "count": 150
}
```

**TSVå‡ºåŠ›**: Shift_JISå½¢å¼ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆTARGETå–ã‚Šè¾¼ã¿ç”¨ï¼‰

**ğŸ¤– AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆ**: ANALYSTï¼ˆã²ãªãŸï¼‰ãŒèª¿æ•™è©•ä¾¡ã‚’åˆ†æã€ARTETAï¼ˆã‚¢ãƒ«ãƒ†ã‚¿ï¼‰ãŒäºˆæƒ³å…¥åŠ›

---

## ğŸ¯ AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆåˆ¥ã¾ã¨ã‚

### ANALYSTï¼ˆã²ãªãŸï¼‰ãŒä½¿ã†ã¹ãAPI
1. **åˆ†æãƒ‡ãƒ¼ã‚¿å–å¾—**:
   - `/api/bankroll/stats` - é¦¬åˆ¸ç¨®åˆ¥å›åç‡åˆ†æ
   - `/api/odds/race` - å„ãƒ¬ãƒ¼ã‚¹ã®ã‚ªãƒƒã‚º + åˆ†æãƒ‘ã‚¿ãƒ¼ãƒ³
   - `/api/odds/timeseries` - ã‚ªãƒƒã‚ºå¤‰å‹•ãƒˆãƒ¬ãƒ³ãƒ‰
   - `/api/training/summary` - èª¿æ•™è©•ä¾¡

2. **çµæœç¢ºèª**:
   - `/api/predictions/[date]/[raceId]` - äºˆæƒ³ç¢ºèª
   - `/api/bankroll/daily/[date]` - æ—¥åˆ¥æˆç¸¾

### ARTETAï¼ˆã‚¢ãƒ«ãƒ†ã‚¿ï¼‰ãŒä½¿ã†ã¹ãAPI
1. **å­¦ç¿’ãƒ‡ãƒ¼ã‚¿å–å¾—**:
   - `/api/horses/search` - é¦¬ã®åŸºæœ¬æƒ…å ±æ¤œç´¢
   - `/api/debug/training` - èª¿æ•™ãƒ‡ãƒ¼ã‚¿ï¼ˆMLå…¥åŠ›ï¼‰
   - `/api/training/summary` - èª¿æ•™ã‚µãƒãƒªãƒ¼
   - `/api/race-lookup` - ãƒ¬ãƒ¼ã‚¹è©³ç´°æƒ…å ±

2. **äºˆæƒ³ä¿å­˜**:
   - `/api/predictions/[date]/[raceId]` - MLäºˆæƒ³çµæœä¿å­˜

### ã‚·ãƒï¼ˆæœŸå¾…å€¤è¨ˆç®—ï¼‰ãŒä½¿ã†ã¹ãAPI
1. **æœŸå¾…å€¤è¨ˆç®—**:
   - `/api/odds/race` - ã‚ªãƒƒã‚ºå–å¾—
   - `/api/odds/ji-timeseries` - ã‚ªãƒƒã‚ºå¤‰å‹•ã‹ã‚‰æœŸå¾…å€¤è¨ˆç®—

2. **è³¼å…¥åˆ¤å®š**:
   - `/api/bankroll/check` - è³¼å…¥å¯èƒ½åˆ¤å®š
   - `/api/purchases/[date]` - æœŸå¾…å€¤è¨ˆç®—çµæœä¿å­˜

### ã‚·ã‚«ãƒãƒ«ï¼ˆè³¼å…¥æˆ¦ç•¥ï¼‰ãŒä½¿ã†ã¹ãAPI
1. **æˆ¦ç•¥ç«‹æ¡ˆ**:
   - `/api/bankroll/config` - äºˆç®—è¨­å®š
   - `/api/bankroll/allocation` - é¦¬åˆ¸ç¨®åˆ¥é…åˆ†
   - `/api/bankroll/plans` - è³¼å…¥äºˆå®šç®¡ç†

2. **å®Ÿè¡Œç›£è¦–**:
   - `/api/admin/execute` - ãƒãƒƒãƒå®Ÿè¡Œç›£è¦–

### ã‚µã‚¤ï¼ˆå®Ÿè¡Œè¨˜éŒ²ï¼‰ãŒä½¿ã†ã¹ãAPI
1. **è³¼å…¥è¨˜éŒ²**:
   - `/api/purchases/[date]` - è³¼å…¥å®Ÿç¸¾è¨˜éŒ²

2. **æˆç¸¾ç¢ºèª**:
   - `/api/bankroll/daily/[date]` - æ—¥åˆ¥æˆç¸¾ç¢ºèª
   - `/api/bankroll/fund` - è³‡é‡‘å‡ºå…¥ç®¡ç†

### GUARDIANï¼ˆãƒªã‚¹ã‚¯ç®¡ç†ï¼‰ãŒä½¿ã†ã¹ãAPI
1. **ãƒªã‚¹ã‚¯ç›£è¦–**:
   - `/api/bankroll/alerts` - äºˆç®—ã‚¢ãƒ©ãƒ¼ãƒˆå–å¾—
   - `/api/bankroll/check` - è³¼å…¥å‰ãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯

### LEARNERï¼ˆãƒŠãƒ«ãƒˆï¼‰ãŒä½¿ã†ã¹ãAPI
1. **å­¦ç¿’ãƒ‡ãƒ¼ã‚¿**:
   - `/api/memos/[raceId]` - ãƒ¬ãƒ¼ã‚¹ãƒ¡ãƒ¢ï¼ˆæŒ¯ã‚Šè¿”ã‚Šï¼‰
   - `/api/start-memo` - ã‚¹ã‚¿ãƒ¼ãƒˆçŠ¶æ³
   - `/api/bankroll/collection` - çš„ä¸­é¦¬åˆ¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

2. **ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ**:
   - `/api/bankroll/stats` - é¦¬åˆ¸ç¨®åˆ¥å‚¾å‘åˆ†æ

### KIBAï¼ˆãƒ‡ãƒ¼ã‚¿è¿½è·¡ï¼‰ãŒä½¿ã†ã¹ãAPI
1. **ãƒ‡ãƒ¼ã‚¿å–å¾—ç¢ºèª**:
   - `/api/race-dates` - é–‹å‚¬æ—¥ä¸€è¦§
   - `/api/odds/list` - ã‚ªãƒƒã‚ºã‚ã‚‹ãƒ¬ãƒ¼ã‚¹ä¸€è¦§

2. **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç®¡ç†**:
   - `/api/admin/rebuild-index` - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å†æ§‹ç¯‰

### COMMANDERï¼ˆãƒ™ãƒ³ã‚²ãƒ«ï¼‰ãŒä½¿ã†ã¹ãAPI
1. **ãƒãƒƒãƒå®Ÿè¡Œ**:
   - `/api/admin/execute` - å®šæœŸãƒãƒƒãƒå®Ÿè¡Œï¼ˆèª¿æ•™ã‚µãƒãƒªãƒ¼ã€åŸºæº–å€¤è¨ˆç®—ç­‰ï¼‰

2. **è¨­å®šç®¡ç†**:
   - `/api/admin/rating-standards` - ãƒ¬ã‚¤ãƒ†ã‚£ãƒ³ã‚°åŸºæº–ç¢ºèª
   - `/api/admin/rpci-standards` - RPCIåŸºæº–ç¢ºèª

---

## ğŸ”— ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³

```
TARGETãƒ‡ãƒ¼ã‚¿ (E:\TFJV)
  â”œâ”€ CK_DATA (èª¿æ•™)
  â”‚   â””â†’ /api/training/save â†’ training_summary.json
  â”‚   â””â†’ /api/training/summary
  â”‚   â””â†’ /api/debug/training
  â”‚
  â”œâ”€ UM_DATA (é¦¬ãƒã‚¹ã‚¿)
  â”‚   â””â†’ /api/debug/umdata
  â”‚
  â”œâ”€ RT_DATA (ã‚ªãƒƒã‚º)
  â”‚   â””â†’ /api/odds/timeseries
  â”‚
  â””â”€ JI_2026 (æ™‚ç³»åˆ—ã‚ªãƒƒã‚º)
      â””â†’ /api/odds/ji-timeseries

ç«¶é¦¬ãƒ–ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ (keibabookãƒ‘ã‚¹)
  â””â”€ calculate_rating_standards.py
      â””â†’ /api/admin/rating-standards

ãƒ¬ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ (E:\share\KEIBA-CICD\data2)
  â”œâ”€ races/YYYY/MM/DD/
  â”‚   â”œâ”€ race_info.json
  â”‚   â””â”€ temp/
  â”‚       â”œâ”€ integrated_*.json
  â”‚       â”œâ”€ training_summary.json
  â”‚       â””â”€ cyokyo_*.json
  â”‚
  â””â”€ keiba-ai/data/
      â”œâ”€ predictions/[date]/[raceId].json
      â”œâ”€ purchases/[date].json
      â”œâ”€ bankroll/
      â”‚   â”œâ”€ config.json
      â”‚   â”œâ”€ fund_history.json
      â”‚   â””â”€ plans/[date].json
      â””â”€ userdata/
          â””â”€ memos/[date]/[raceId].json
```

---

## âš ï¸ é‡è¦ãªå®Ÿè£…ç‰¹æ€§

### 1. Pythoné€£æº
å¤šãã®APIãŒ`spawn(pythonPath, args)`ã§å¤–éƒ¨å®Ÿè¡Œã€‚ä¸»ã«`keiba-ai/tools/target_reader.py`ã‚’ä½¿ç”¨ã€‚

**å®Ÿè£…ä¾‹**:
```typescript
const pythonProcess = spawn(pythonPath, [
  'tools/target_reader.py',
  '--date', '20260131'
]);
```

### 2. SSEå¯¾å¿œ
`/api/admin/execute`ã®ã¿SSE (Server-Sent Events) ã§ã‚¹ãƒˆãƒªãƒ¼ãƒ è¿”å´ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—é€šçŸ¥ã«ä½¿ç”¨ã€‚

### 3. ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
å¤§éƒ¨åˆ†ãŒJSONãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿æ›¸ãï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœªä½¿ç”¨ï¼‰ã€‚é«˜é€Ÿã‚¢ã‚¯ã‚»ã‚¹ã¨ã‚·ãƒ³ãƒ—ãƒ«ã•ã‚’é‡è¦–ã€‚

### 4. ç’°å¢ƒå¤‰æ•°ä¾å­˜
- `KEIBA_DATA_ROOT_DIR` â†’ ãƒ¬ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿æ ¹ï¼ˆ`E:\share\KEIBA-CICD\data2`ï¼‰
- `JV_DATA_ROOT_DIR` â†’ JV-VANå½¢å¼ãƒ‡ãƒ¼ã‚¿æ ¹ï¼ˆ`E:\TFJV`ï¼‰
- `PYTHON_PATH` â†’ Pythonå®Ÿè¡Œãƒ‘ã‚¹

### 5. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
å¤§éƒ¨åˆ†ãŒ400/404/500ã§çµ±ä¸€å¿œç­”ã€‚è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’JSONã§è¿”å´ã€‚

**ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "error": "ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“",
  "details": "race_info.json ãŒå­˜åœ¨ã—ã¾ã›ã‚“",
  "path": "E:/share/KEIBA-CICD/data2/races/2026/01/31/race_info.json"
}
```

### 6. ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- race-date-indexãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ä½¿ç”¨
- é¦¬å ´ãƒ‡ãƒ¼ã‚¿ã‚‚ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šï¼‰

---

## ğŸ“ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´
| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ |
|----------|------|---------|
| 1.0 | 2026-01-31 | åˆç‰ˆä½œæˆï¼ˆå…¨34APIè§£æå®Œäº†ï¼‰ |

### ä»Šå¾Œã®æ‹¡å¼µäºˆå®š
1. **WebSocketå¯¾å¿œ**: ã‚ªãƒƒã‚ºå¤‰å‹•ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥
2. **èªè¨¼æ©Ÿèƒ½**: APIèªè¨¼ã®å®Ÿè£…
3. **GraphQLå¯¾å¿œ**: è¤‡é›‘ãªã‚¯ã‚¨ãƒªã®åŠ¹ç‡åŒ–
4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç§»è¡Œ**: å¤§é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®æœ€é©åŒ–

---

## ğŸ¤ è²¢çŒ®ã‚¬ã‚¤ãƒ‰

æ–°ã—ã„APIã‚’è¿½åŠ ã™ã‚‹å ´åˆï¼š
1. ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°
2. ã‚«ãƒ†ã‚´ãƒªã«é©åˆ‡ã«åˆ†é¡
3. AIæ´»ç”¨ãƒã‚¤ãƒ³ãƒˆã‚’æ˜è¨˜
4. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³ã‚’æ›´æ–°

---

**æ–‡æ›¸ä½œæˆæ—¥**: 2026-01-31
**ä½œæˆè€…**: ã‚«ã‚«ã‚·ï¼ˆAIç›¸è«‡å½¹ï¼‰
**æ‰¿èªè€…**: ãµãã å›

---

KeibaCICD.WebViewer APIä»•æ§˜æ›¸ã®å…¨34ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè§£æãŒå®Œäº†ã—ã¾ã—ãŸã€‚å„AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒé©åˆ‡ã«APIã‚’æ´»ç”¨ã§ãã‚‹ã‚ˆã†ã€è©³ç´°ãªæƒ…å ±ã‚’è¨˜è¼‰ã—ã¦ã„ã¾ã™ã€‚
