# カード表示デザイン仕様

## 概要

トレーディングカード風 + ダッシュボード風のハイブリッドデザインで、出走馬情報を視覚的に楽しく表示するUI。

## デモページ

http://localhost:3000/demo/cards

## 機能

### 1. カード表面（トレーディングカード風）

```
┌─────────────────────────────┐
│  [枠色グラデーション]  SSR  │ ← レアリティバッジ
├─────────────────────────────┤
│  🔴 1番 ブラックハヤテ  ○  │ ← 馬番・馬名・印
│      牡3                    │
├─────────────────────────────┤
│   177.0    55.3    36.6    │ ← AI指数・レート・オッズ
│  AI指数   レート   オッズ   │
├─────────────────────────────┤
│ スピード ████████░░ 100    │
│ スタミナ ███████░░░  88    │ ← 能力値バー
│ 瞬発力   ████████░░ 100    │
├─────────────────────────────┤
│ 🏇 騎手        丹内祐      │
│ "経験積んだが..."           │ ← 短評
├─────────────────────────────┤
│   タップで詳細を見る 🔄      │
└─────────────────────────────┘
```

### 2. カード裏面（ダッシュボード風詳細）

カードをクリックすると180度フリップして裏面表示。

```
┌─────────────────────────────┐
│ 🔴 1 ブラックハヤテ     ○  │
├──────────────┬──────────────┤
│ 性齢: 牡3   │ 斤量: 57kg  │
│ 騎手: 丹内祐│ 調教: →     │
├─────────────────────────────┤
│ 📝 短評                     │
│ 経験積んだが、まだ時間必要  │
├─────────────────────────────┤
│ 🏃 調教短評                 │
│ 攻め意欲的も               │
├─────────────────────────────┤
│ 📊 過去5走                  │
│ ▲  ▲  ▲  ▲  ▲             │ ← ミニグラフ
│ 2  1  3  1  2               │
├─────────────────────────────┤
│    [馬の詳細ページへ →]     │
└─────────────────────────────┘
```

## レアリティシステム

AI指数に基づいて自動判定：

| レアリティ | AI指数 | 枠線カラー | グロー効果 |
|-----------|--------|-----------|-----------|
| SSR | 57以上 | 金色 | 強い輝き |
| SR | 54以上 | 紫色 | 中程度の輝き |
| R | 51以上 | 青色 | 軽い輝き |
| N | 51未満 | グレー | なし |

## 枠色

JRA公式の枠色に基づくグラデーション：

| 枠番 | 色 | グラデーション |
|------|-----|---------------|
| 1 | 白 | gray-100 → white |
| 2 | 黒 | gray-900 → gray-700 |
| 3 | 赤 | red-600 → red-400 |
| 4 | 青 | blue-600 → blue-400 |
| 5 | 黄 | yellow-400 → yellow-200 |
| 6 | 緑 | green-600 → green-400 |
| 7 | 橙 | orange-500 → orange-300 |
| 8 | 桃 | pink-500 → purple-400 |

## 印スタイル

| 印 | スタイル |
|----|---------|
| ◎ | 赤・極太・2xl |
| ○ | 青・太字・xl |
| ▲ | 緑・太字・xl |
| △ | 黄・太字・xl |
| ☆ | 紫・太字・xl |

## データ構造

### 現在利用可能なデータ

```typescript
interface HorseEntry {
  number: number;       // 馬番
  frame: number;        // 枠番
  name: string;         // 馬名
  horseId: string;      // 馬ID
  jockey: string;       // 騎手
  weight: number;       // 斤量
  age?: string;         // 性齢
  odds?: number;        // オッズ
  aiIndex?: number;     // AI指数
  rate?: number;        // レート
  mark?: string;        // 本誌印
  shortComment?: string; // 短評
  trainingComment?: string; // 調教短評
  training?: string;    // 調教評価
}
```

### 将来拡張予定データ

```typescript
interface HorseStats {
  speed: number;     // スピード (0-100)
  stamina: number;   // スタミナ (0-100)
  power: number;     // 瞬発力 (0-100)
  stability: number; // 安定感 (0-100)
  growth: number;    // 成長度 (0-100)
}

interface RaceResult {
  date: string;
  track: string;
  distance: string;
  position: number;
  time?: string;
  margin?: string;
}
```

## ファイル構成

```
src/
├── components/
│   └── horse-card.tsx      # カードコンポーネント
├── types/
│   └── index.ts            # 型定義（HorseEntry, HorseStats等）
├── app/
│   ├── globals.css         # フリップアニメーション等
│   └── demo/
│       └── cards/
│           └── page.tsx    # デモページ
```

## 今後の拡張アイデア

1. **能力値データの蓄積**
   - 過去成績から能力値を自動計算
   - スピード：タイム指数ベース
   - スタミナ：距離適性ベース
   - 瞬発力：上がり3Fベース
   - 安定感：成績の安定度ベース

2. **過去成績グラフ**
   - seiseki_*.json から着順履歴を取得
   - ミニバーグラフで可視化

3. **カードソート/フィルター**
   - AI指数順、オッズ順、印順でソート
   - レアリティでフィルター

4. **カードコレクション機能**
   - お気に入り馬のカード保存
   - コレクション一覧表示

5. **アニメーション強化**
   - SSRカードの輝きエフェクト
   - ホバー時の浮き上がり効果

## 使用技術

- React / Next.js 14
- Tailwind CSS
- CSS 3D Transform（フリップアニメーション）
